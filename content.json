{"posts":[{"title":"Cè¯­è¨€ç½‘ç»œç¼–ç¨‹","text":"é¡¹ç›®åç§°ï¼šå›¾ä¹¦ç®¡ç†ç³»ç»Ÿ å¼€å‘æŠ€æœ¯ï¼šCè¯­è¨€ï¼ŒSQLite3 é¡¹ç›®æè¿°ï¼šé¡¹ç›®åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ã€‚å®¢æˆ·ç«¯å’Œå»ºç«‹è¿æ¥åï¼Œå¯ä»¥è¿›è¡Œæ³¨å†Œå’Œç™»å½•ã€‚é€šè¿‡ä¸åŒçš„èº«ä»½ç™»å½•è¯¥ç³»ç»Ÿåï¼Œç®¡ç†å‘˜å¯ä»¥å®ç°å¯¹å›¾ä¹¦ä¿¡æ¯çš„æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹ç­‰æ“ä½œï¼Œç”¨æˆ·å¯ä»¥è¿›è¡Œå€Ÿä¹¦ï¼Œè¿˜ä¹¦ç­‰æ“ä½œã€‚ é¡¹ç›®å®ç°ï¼š 1.åœ¨æœåŠ¡å™¨ç«¯å»ºç«‹å¥—æ¥å­—åï¼Œåœ¨æœåŠ¡å™¨ç«¯æ­å»ºæ•°æ®åº“ï¼ŒåŒ…æ‹¬æ‰“å¼€ï¼Œå…³é—­æ•°æ®åº“ï¼Œåˆ›å»ºç”¨æˆ·ä¿¡æ¯è¡¨å’Œä¹¦ç±ä¿¡æ¯è¡¨ï¼› 2.åˆ›å»ºå®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œä½¿ç”¨TCPæ¥è¿›è¡ŒæœåŠ¡å™¨ä¸ç«¯å®¢æˆ·ç«¯çš„é€šä¿¡ï¼Œåœ¨å®¢æˆ·ç«¯åˆ›å»ºèœå•å‡½æ•°ï¼› 3.åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨IOå¤šè·¯å¤ç”¨å¹¶å‘æœåŠ¡å™¨æ¥æ¥æ”¶æ¶ˆæ¯ã€‚ å®Œæ•´ä»£ç ï¼šå›¾ä¹¦ç®¡ç†ç³»ç»Ÿ é¡¹ç›®ä»‹ç»ï¼šåŸºäºCè¯­è¨€çš„ç½‘ç»œç¼–ç¨‹é¡¹ç›®ï¼šå›¾ä¹¦ç®¡ç†ç³»ç»ŸæœåŠ¡ç«¯æ”¯æŒå®¢æˆ·ç«¯è¿œç¨‹ç™»å½•TCPæ”¯æŒå¤šç”¨æˆ·åŒæ—¶è®¿é—®(æœåŠ¡å™¨å¹¶å‘ å¤šè¿›ç¨‹)æ•°æ®åº“ï¼šä½¿ç”¨äº†sqlite3ï¼Œè¡¨ä¸ºï¼šuserï¼šidï¼Œpassbookï¼šidï¼Œnameï¼Œauthorï¼Œnote åŠŸèƒ½ä»‹ç»ï¼šåŠŸèƒ½1ï¼šç®¡ç†å‘˜ç™»å½• ç®¡ç†å‘˜è´¦å·IDä¸º1 åªæœ‰ä¸€ä¸ª1.æ·»åŠ å›¾ä¹¦2.ä¿®æ”¹å›¾ä¹¦3.æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦ åŠŸèƒ½2ï¼šç”¨æˆ·ç™»å½• Dä¸ä¸º1çš„è´¦å·éƒ½ä¸ºç”¨æˆ·è´¦å·1.å€Ÿé˜…å›¾ä¹¦2.è¿˜ä¹¦2.æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦3.ç”¨æˆ·æ³¨å†Œ ä»£ç ï¼šç¼–è¯‘æ—¶åœ¨åé¢åŠ -lsqlite3:gcc -o server.c server -lsqlite3gcc -o client.c client -lsqlite3 ç¼–è¯‘åè¿è¡Œæ—¶åœ¨åé¢åŠ ä¸ŠIPåœ°å€å’Œç«¯å£å·ï¼š./server 127.0.0.1 8888./client 127.0.0.1 8888 server.c123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320#include &quot;../include/serbook.h&quot;int main(int argc, char const *argv[]){ //æ•°æ®åº“åˆå§‹åŒ– sqlite3 *sql_db=proc_init(); if (3 != argc) { printf(&quot;Usage : %s &lt;IP&gt; &lt;PORT&gt;\\n&quot;, argv[0]); exit(-1); } //åˆ›å»ºå¥—æ¥å­— int sockfd = socket_bind_listen(argv); //å®¢æˆ·ç«¯ä¿¡æ¯çš„ç»“æ„ä½“ struct sockaddr_in client_addr; memset(&amp;client_addr, 0, sizeof(client_addr)); socklen_t client_addr_len = sizeof(client_addr); pid_t pid; int accept_fd; while (1) { accept_fd=accept(sockfd,(struct sockaddr *)&amp;client_addr, &amp;client_addr_len); printf(&quot;å®¢æˆ·ç«¯[%s : %d]å·²è¿æ¥\\n&quot;,inet_ntoa(client_addr.sin_addr),ntohs(client_addr.sin_port)); if (0&gt;(pid=fork())) ERRLOG(&quot;fork error&quot;); else if (0==pid) { child_do(accept_fd,sql_db); } else { if (signal(SIGCHLD, deal_signal) == SIG_ERR) ERRLOG(&quot;signal error&quot;); close(accept_fd); } } //å…³é—­ç›‘å¬å¥—æ¥å­— close(sockfd); return 0;}// æ•°æ®åº“åˆå§‹åŒ–sqlite3 *proc_init(void){ //æ‰“å¼€æ•°æ®åº“æ–‡ä»¶ sqlite3 *sql_db=NULL; int ret=sqlite3_open(FILEname,&amp;sql_db); if (ret!=SQLITE_OK) { printf(&quot;æ‰“å¼€æ•°æ®åº“æ–‡ä»¶ å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); exit(-1); } //2å»ºè¡¨ char sql_rbuf[256]=&quot;CREATE TABLE IF NOT EXISTS user(id INT PRIMARY KEY, pass TEXT)&quot;; ret=sqlite3_exec(sql_db,sql_rbuf,NULL,NULL,NULL); if (ret!=SQLITE_OK) { perror(&quot;å»ºuserè¡¨ å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); exit(-1); } //å›¾ä¹¦ID-å›¾ä¹¦åå­—-å›¾ä¹¦ä½œè€…-å›¾ä¹¦å¤‡æ³¨ char sql_ubuf[256]=&quot;CREATE TABLE IF NOT EXISTS book(id INT PRIMARY KEY,name TEXT,author TEXT,note TEXT)&quot;; ret=sqlite3_exec(sql_db,sql_ubuf,NULL,NULL,NULL); if (ret!=SQLITE_OK) { perror(&quot;å»ºbookè¡¨ å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); exit(-1); } return sql_db;}//3. åˆ›å»ºå¥—æ¥å­—int socket_bind_listen(const char *argv[]){ int sockfd=socket(AF_INET,SOCK_STREAM,0); if (-1==sockfd) ERRLOG(&quot;åˆ›å»ºå¥—æ¥å­— å¤±è´¥&quot;); struct sockaddr_in server_addr; memset(&amp;server_addr,0,sizeof(server_addr)); server_addr.sin_family=AF_INET; server_addr.sin_port=htons(atoi(argv[2])); server_addr.sin_addr.s_addr=inet_addr(argv[1]); socklen_t server_addr_len=sizeof(server_addr); if (-1==bind(sockfd,(struct sockaddr *)&amp;server_addr,server_addr_len)) ERRLOG(&quot;sockaddr error&quot;); if (-1 == listen(sockfd, 10)) ERRLOG(&quot;listen error&quot;); return sockfd;}void child_do(int accept_fd, sqlite3 *sql_db){ MSG msg; memset(&amp;msg,0,sizeof(MSG)); while (recv(accept_fd, &amp;msg, sizeof(MSG), 0) &gt; 0) { printf(&quot;type = %d\\n&quot;, msg.type); switch (msg.type) { case A: //å¢åŠ  do_add_s(accept_fd, &amp;msg, sql_db); break; case D: //åˆ é™¤ do_delete_s(accept_fd, &amp;msg, sql_db); break; case M: //ä¿®æ”¹ do_modify_s(accept_fd, &amp;msg, sql_db); break; case R: // æ³¨å†Œ do_register_s(accept_fd, &amp;msg, sql_db); break; case L: // ç™»å½• do_login_s(accept_fd, &amp;msg, sql_db); break; case Qall: // æŸ¥è¯¢æ‰€æœ‰ all_query_s(accept_fd,sql_db); break; } } printf(&quot;å®¢æˆ·ç«¯ é€€å‡º\\n&quot;); exit(0);}// ä¿¡å·å¤„ç†å‡½æ•°void deal_signal(int s){ wait(NULL); }// æ³¨å†Œvoid do_register_s(int accept_fd, MSG *msg, sqlite3 *sql_db){ char sql_buf[512]; memset(sql_buf,0,sizeof(sql_buf)); sprintf(sql_buf,&quot;INSERT INTO user(id,pass) VALUES(%d,'%s')&quot;, msg-&gt;id, msg-&gt;pass); int ret=sqlite3_exec(sql_db,sql_buf,NULL,NULL,NULL); if (ret!=SQLITE_OK) { perror(&quot;æ³¨å†Œå¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); sprintf(msg-&gt;data, &quot;ID %d å·²ç»å­˜åœ¨&quot;, msg-&gt;id); } else { strcpy(msg-&gt;data, &quot;æ³¨å†ŒæˆåŠŸ&quot;); } //å‘é€æ•°æ® if (0 &gt;= send(accept_fd,msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;);}//ç™»é™†void do_login_s(int accept_fd, MSG *msg, sqlite3 *sql_db){ char sql_buf[256]={0}; //ä½¿ç”¨æŸ¥è¯¢å‡½æ•°åˆ¤æ–­æ˜¯å¦å­˜åœ¨ sprintf(sql_buf,&quot;SELECT * FROM user WHERE id=%d AND pass='%s'&quot;, msg-&gt;id, msg-&gt;pass); char **result; int row = 0; int column = 0; int ret=sqlite3_get_table(sql_db,sql_buf,&amp;result,&amp;row,&amp;column,NULL); if (ret!=SQLITE_OK) { perror(&quot;æŸ¥è¯¢å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); } if (0==row) { sprintf(msg-&gt;data,&quot;ID[%d]ä¸å¯†ç [%s]ä¸ä¸€è‡´&quot;, msg-&gt;id,msg-&gt;pass); } else { strcpy(msg-&gt;data, &quot;ç™»å½•æˆåŠŸ&quot;); } //å‘é€æ•°æ® if (0 &gt;= send(accept_fd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;);}// æŸ¥è¯¢æ‰€æœ‰void all_query_s(int accept_fd,sqlite3 *sql_db){ MSG msg; int i,x; char sql_buf[256]={0}; memset(&amp;msg,0,sizeof(msg)); //ä½¿ç”¨æŸ¥è¯¢å‡½æ•° strcpy(sql_buf,&quot;SELECT * FROM book&quot;); char **result; int row = 0; int column = 0; int ret=sqlite3_get_table(sql_db,sql_buf,&amp;result,&amp;row,&amp;column,NULL); if (ret!=SQLITE_OK) { perror(&quot;æŸ¥è¯¢å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); } if (0==row) { sprintf(msg.data,&quot;ID[%d]ä¸ºç©º&quot;, 0); } else { x=column; for (i= 0; i&lt;row; i++) { if (result[x]) { msg.id=atoi(result[x]); } x++; snprintf(msg.name,sizeof(msg.name),&quot;%s&quot;,result[x++]); snprintf(msg.author,sizeof(msg.author),&quot;%s&quot;,result[x++]); snprintf(msg.note,sizeof(msg.note),&quot;%s&quot;,result[x++]); //å‘é€æ•°æ® if (0 &gt;= send(accept_fd,&amp;msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); memset(&amp;msg,0,sizeof(msg)); if (row==(i+1)) { strcpy(msg.data,&quot;**over**&quot;); //å‘é€æ•°æ® if (0 &gt;= send(accept_fd,&amp;msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); } } } sqlite3_free_table(result);}// å¢åŠ void do_add_s(int accept_fd, MSG *msg, sqlite3 *sql_db){ char sql_buf[512]; memset(sql_buf,0,sizeof(sql_buf)); sprintf(sql_buf,&quot;INSERT INTO book(id,name,author,note) VALUES(%d,'%s','%s','%s')&quot;, msg-&gt;id, msg-&gt;name,msg-&gt;author,msg-&gt;note); int ret=sqlite3_exec(sql_db,sql_buf,NULL,NULL,NULL); if (ret!=SQLITE_OK) { perror(&quot;æ·»åŠ å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); sprintf(msg-&gt;data, &quot;IDä¸º %d çš„å›¾ä¹¦å·²ç»å­˜åœ¨&quot;, msg-&gt;id); } else { strcpy(msg-&gt;data, &quot;æ·»åŠ æˆåŠŸ&quot;); } //å‘é€æ•°æ® if (0 &gt;= send(accept_fd,msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;);}//åˆ é™¤void do_delete_s(int accept_fd, MSG *msg, sqlite3 *sql_db){ char sql_buf[256]={0}; //å¡«å†™sqlè¯­å¥ sprintf(sql_buf,&quot;DELETE FROM book WHERE id=%d&quot;,msg-&gt;id); //æ‰§è¡Œsqlè¯­å¥ int ret = sqlite3_exec(sql_db, sql_buf, NULL, NULL, NULL); if (ret!=SQLITE_OK) { perror(&quot;æŸ¥è¯¢å¤±è´¥&quot;); printf(&quot;errcode[%d] errmsg[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); } else { strcpy(msg-&gt;data, &quot;å€Ÿé˜…æˆåŠŸ&quot;); } //å‘é€æ•°æ® if (0 &gt;= send(accept_fd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); memset(msg,0,sizeof(MSG));}// ä¿®æ”¹void do_modify_s(int accept_fd, MSG *msg, sqlite3 *sql_db){ char sql_buff[512] = {0}; // pass ,name ,sex ,age,pay,job sprintf(sql_buff,&quot;UPDATE book SET name='%s',author='%s',note='%s' WHERE id=%d&quot;, msg-&gt;name,msg-&gt;author,msg-&gt;note,msg-&gt;id); //æ‰§è¡Œsqlè¯­å¥ int ret = sqlite3_exec(sql_db, sql_buff, NULL, NULL, NULL); if (ret != SQLITE_OK) { perror(&quot;ä¿®æ”¹å¤±è´¥&quot;); printf(&quot;è¿”å›å€¼[%d] é”™è¯¯ä¿¡æ¯[%s]\\n&quot;, ret, sqlite3_errmsg(sql_db)); exit(-1); } strcpy(msg-&gt;data, &quot;ä¿®æ”¹æˆåŠŸ&quot;); //å‘é€æ•°æ® if (0 &gt;= send(accept_fd,msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); memset(msg,0,sizeof(MSG));} serbook.h12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#ifndef __SERBOOK_H__#define __SERBOOK_H__#include &lt;stdio.h&gt;#include &lt;sqlite3.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt; // memset#include &lt;sys/types.h&gt; #include &lt;sys/socket.h&gt;#include &lt;netinet/in.h&gt; // ä¿¡æ¯ç»“æ„ä½“struct sockaddr_in#include &lt;signal.h&gt;#include &lt;netinet/in.h&gt; //inet_aton#include &lt;arpa/inet.h&gt;#include &lt;unistd.h&gt; // fork#include &lt;sys/wait.h&gt;/*æ•°æ®åº“æ–‡ä»¶åå­—*/#define FILEname &quot;ser.db&quot;#define ERRLOG(errmsg) \\ do \\ { \\ printf(&quot;%s--%s(%d):&quot;, __FILE__, __func__, __LINE__); \\ perror(errmsg); \\ } while (0)#define R 1 // æ³¨å†Œ#define L 2 // ç™»å½•#define M 4 // ä¿®æ”¹#define A 5 // å¢åŠ #define D 6 // åˆ é™¤#define Qall 7 // æŸ¥è¯¢æ‰€æœ‰//ä¿¡æ¯ç»“æ„ä½“typedef struct{ int type; //é€‰æ‹© int id; //ç”¨æˆ·ID char name[64]; //å›¾ä¹¦åå­— char pass[64]; // passwordå¯†ç  char data[256]; //emarkè¿”å›æ•°æ® char author[64]; //å›¾ä¹¦ä½œè€… char note[256]; //å›¾ä¹¦å¤‡æ³¨}MSG;sqlite3 *proc_init(void);int socket_bind_listen(const char *argv[]);void child_do(int accept_fd, sqlite3 *sql_db);void deal_signal(int s);void do_register_s(int accept_fd, MSG *msg, sqlite3 *sql_db);void do_login_s(int accept_fd, MSG *msg, sqlite3 *sql_db);void all_query_s(int accept_fd,sqlite3 *sql_db);void do_add_s(int accept_fd, MSG *msg, sqlite3 *sql_db);void do_delete_s(int accept_fd, MSG *msg, sqlite3 *sql_db);void do_modify_s(int accept_fd, MSG *msg, sqlite3 *sql_db);#endif client.c123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320#include &quot;../include/clibook.h&quot;int errnum=0;int main(int argc, char const *argv[]){ int ret; if (3 != argc) { printf(&quot;Usage : %s &lt;IP&gt; &lt;PORT&gt;\\n&quot;, argv[0]); exit(-1); } // 1. åˆ›å»ºå¥—æ¥å­— int sockfd = socket_connect(argv); MSG msg; memset(&amp;msg, 0, sizeof(MSG)); int n; while (1) { printf(&quot;=====================================\\n&quot;); printf(&quot;= 1.ç®¡ç†å‘˜ç™»å½• =\\n&quot;); printf(&quot;= 2.ç”¨æˆ·ç™»å½• =\\n&quot;); printf(&quot;= 3.ç”¨æˆ·æ³¨å†Œ =\\n&quot;); printf(&quot;= 4.é€€å‡º =\\n&quot;); printf(&quot;======================================\\n&quot;); printf(&quot;è¯·è¾“å…¥é€‰é¡¹: &quot;); scanf(&quot;%d&quot;, &amp;n); switch (n) { case 1: do_login(sockfd, &amp;msg); if(msg.id==1) { goto next; } else{ printf(&quot;è¯¥è´¦å·éç®¡ç†å‘˜è´¦å·\\n&quot;); } break; case 2: do_login(sockfd, &amp;msg); if(msg.id!=1) { goto next2; } else{ printf(&quot;è¯¥è´¦å·ä¸ºç®¡ç†å‘˜è´¦å·\\n&quot;); } break; case 3: do_register(sockfd, &amp;msg); break; case 4: exit(0); break; } }next: while (1) { printf(&quot;=====================================\\n&quot;); printf(&quot;= 1.æ·»åŠ å›¾ä¹¦ =\\n&quot;); printf(&quot;= 2.ä¿®æ”¹å›¾ä¹¦ =\\n&quot;); printf(&quot;= 3.æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦ =\\n&quot;); printf(&quot;= 4.é€€å‡º =\\n&quot;); printf(&quot;=====================================\\n&quot;); printf(&quot;è¯·è¾“å…¥é€‰é¡¹: &quot;); scanf(&quot;%d&quot;, &amp;n); switch (n) { case 1: //æ·»åŠ å›¾ä¹¦ do_add(sockfd, &amp;msg); break; case 2: //ä¿®æ”¹å›¾ä¹¦ do_modify(sockfd, &amp;msg); break; case 3: //æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦ all_query(sockfd, &amp;msg); break; case 4: exit(-1); break; } }next2: while (1) { printf(&quot;=====================================\\n&quot;); printf(&quot;= 1.å€Ÿé˜…å›¾ä¹¦ =\\n&quot;); printf(&quot;= 2.æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦ =\\n&quot;); printf(&quot;= 3.é€€å‡º =\\n&quot;); printf(&quot;=====================================\\n&quot;); printf(&quot;è¯·è¾“å…¥é€‰é¡¹: &quot;); scanf(&quot;%d&quot;, &amp;n); switch (n) { case 1: //å€Ÿé˜…å›¾ä¹¦ï¼ˆåˆ é™¤ï¼‰ do_delete(sockfd, &amp;msg); break; case 2: //æŸ¥çœ‹æ‰€æœ‰å›¾ä¹¦ all_query(sockfd, &amp;msg); break; case 3: exit(-1); break; } } close(sockfd); return 0;}// åˆ›å»ºå¥—æ¥å­—int socket_connect(const char *argv[]){ int sockfd = socket(AF_INET, SOCK_STREAM, 0); if (-1 == sockfd) ERRLOG(&quot;åˆ›å»ºå¥—æ¥å­—å¤±è´¥&quot;); struct sockaddr_in server_addr; memset(&amp;server_addr, 0, sizeof(server_addr)); server_addr.sin_family = AF_INET; server_addr.sin_port = htons(atoi(argv[2])); server_addr.sin_addr.s_addr = inet_addr(argv[1]); socklen_t server_addr_len = sizeof(server_addr); //ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ if (-1 == connect(sockfd, (struct sockaddr *)&amp;server_addr, server_addr_len)) { ERRLOG(&quot;listen error&quot;); exit(-1); } printf(&quot;---è¿æ¥æœåŠ¡å™¨æˆåŠŸ---\\n&quot;); return sockfd;}// 1.æ³¨å†Œvoid do_register(int sockfd, MSG *msg){ memset(msg, 0, sizeof(MSG)); msg-&gt;type = R; printf(&quot;è¾“å…¥ID: &quot;); scanf(&quot;%d&quot;, &amp;msg-&gt;id); printf(&quot;è¾“å…¥å¯†ç : &quot;); scanf(&quot;%s&quot;, msg-&gt;pass); //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); printf(&quot;%s\\n&quot;, msg-&gt;data);}// 2.ç™»å½•int do_login(int sockfd, MSG *msg){ char NO[32] = &quot;n&quot;; char unlogin[128]={0}; msg-&gt;type = L; printf(&quot;è¾“å…¥ID: &quot;); scanf(&quot;%d&quot;, &amp;msg-&gt;id); printf(&quot;è¾“å…¥å¯†ç : &quot;); scanf(&quot;%s&quot;, msg-&gt;pass); //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error ?&quot;); //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;recv error&quot;); printf(&quot;%s\\n&quot;, msg-&gt;data); sprintf(unlogin,&quot;ID[%d]ä¸å¯†ç [%s]ä¸ä¸€è‡´&quot;, msg-&gt;id,msg-&gt;pass); if (strcmp(msg-&gt;data,unlogin)== 0) { errnum++; if (3==errnum) { errnum=0; exit(0); } } if (strcmp(msg-&gt;data,&quot;ç™»é™†æˆåŠŸ&quot;) == 0) { printf(&quot;ç™»é™†æˆåŠŸ&quot;); } return 0;}// 7. æŸ¥è¯¢æ‰€æœ‰void all_query(int sockfd, MSG *msg){ memset(msg, 0, sizeof(MSG)); int flag=0; char zoor[64]={0}; sprintf(zoor,&quot;ID[%d]ä¸ºç©º&quot;, 0); msg-&gt;type = Qall; //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); while (1) { //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;recv error&quot;); if (strcmp(msg-&gt;data, zoor) == 0) { printf(&quot;%s\\n&quot;, msg-&gt;data); } if (strcmp(msg-&gt;data,&quot;**over**&quot;) == 0) { printf(&quot;è¾“å‡ºæˆåŠŸ\\n&quot;); break; } else { if (0==flag) { printf(&quot;ID| NAME | AUTHOR | NOTE |\\n&quot;); flag=1; } printf(&quot;%d %s %s %s\\n&quot;, msg-&gt;id, msg-&gt;name, msg-&gt;author, msg-&gt;note); memset(msg, 0, sizeof(MSG)); } } flag=0;}// å¢åŠ å›¾ä¹¦void do_add(int sockfd, MSG *msg){ memset(msg, 0, sizeof(MSG)); msg-&gt;type = A; printf(&quot;è¾“å…¥å›¾ä¹¦ID:&quot;); scanf(&quot;%d&quot;, &amp;msg-&gt;id); printf(&quot;è¾“å…¥å›¾ä¹¦åå­—:&quot;); scanf(&quot;%s&quot;, msg-&gt;name); printf(&quot;è¾“å…¥ä½œè€…åå­—:&quot;); scanf(&quot;%s&quot;, msg-&gt;author); printf(&quot;è¾“å…¥å›¾ä¹¦å¤‡æ³¨:&quot;); scanf(&quot;%s&quot;, msg-&gt;note); //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); printf(&quot;%s\\n&quot;, msg-&gt;data);}//åˆ é™¤void do_delete(int sockfd, MSG *msg){ printf(&quot;è¾“å…¥è¦å€Ÿé˜…å›¾ä¹¦çš„ID: &quot;); scanf(&quot;%d&quot;, &amp;msg-&gt;id); msg-&gt;type = D; //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;recv error&quot;); printf(&quot;%s\\n&quot;, msg-&gt;data);}// ä¿®æ”¹void do_modify(int sockfd, MSG *msg){ printf(&quot;è¾“å…¥ä¿®æ”¹è¦ä¿®æ”¹çš„å›¾ä¹¦ID: &quot;); scanf(&quot;%d&quot;, &amp;msg-&gt;id); char NO[32] = &quot;n&quot;; int flag=0; msg-&gt;type = M; printf(&quot;å¼€å§‹ä¿®æ”¹å›¾ä¹¦ID: [%d] ä¿¡æ¯\\n&quot;, msg-&gt;id); printf(&quot;ä¿®æ”¹å›¾ä¹¦åç§°(y/n): &quot;); scanf(&quot;%s&quot;, NO); if (strcmp(NO, &quot;y&quot;) == 0 || strcmp(NO, &quot;Y&quot;) == 0) { memset(msg-&gt;name, 0, sizeof(msg-&gt;name)); printf(&quot;æ–°åç§°: &quot;); scanf(&quot;%s&quot;, msg-&gt;name); flag=1; } printf(&quot;ä¿®æ”¹å›¾ä¹¦ä½œè€…(y/n): &quot;); scanf(&quot;%s&quot;, NO); if (strcmp(NO, &quot;y&quot;) == 0 || strcmp(NO, &quot;Y&quot;) == 0) { memset(msg-&gt;author, 0, sizeof(msg-&gt;author)); printf(&quot;æ–°ä½œè€…: &quot;); scanf(&quot;%s&quot;, msg-&gt;author); flag=1; } printf(&quot;ä¿®æ”¹å›¾ä¹¦å¤‡æ³¨(y/n): &quot;); scanf(&quot;%s&quot;, NO); if (strcmp(NO, &quot;y&quot;) == 0 || strcmp(NO, &quot;Y&quot;) == 0) { memset(msg-&gt;note, 0, sizeof(msg-&gt;note)); printf(&quot;æ–°å¤‡æ³¨: &quot;); scanf(&quot;%s&quot;, msg-&gt;note); flag=1; } if (0==flag) { printf(&quot;æ²¡æœ‰ä»»ä½•ä¿®æ”¹\\n&quot;); } else { //å‘é€æ•°æ® if (0 &gt;= send(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;send error&quot;); //æ¥æ”¶æ•°æ®å¹¶è¾“å‡º if (0 &gt;= recv(sockfd, msg, sizeof(MSG), 0)) ERRLOG(&quot;recv error&quot;); if (strcmp(msg-&gt;data, &quot;ä¿®æ”¹æˆåŠŸ&quot;) == 0) { printf(&quot;%s\\n&quot;, msg-&gt;data); } }} clibook.h12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#ifndef __CLIBOOK_H__#define __CLIBOOK_H__#include &lt;stdio.h&gt;#include &lt;sqlite3.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt; // memset#include &lt;sys/types.h&gt; #include &lt;sys/socket.h&gt;#include &lt;netinet/in.h&gt; // ä¿¡æ¯ç»“æ„ä½“struct sockaddr_in#include &lt;signal.h&gt;#include &lt;netinet/in.h&gt; //inet_aton#include &lt;arpa/inet.h&gt;#include &lt;unistd.h&gt; #define ERRLOG(errmsg) \\ do \\ { \\ printf(&quot;%s--%s(%d):&quot;, __FILE__, __func__, __LINE__); \\ perror(errmsg); \\ } while (0)#define R 1 // æ³¨å†Œ#define L 2 // ç™»å½•#define M 4 // ä¿®æ”¹#define A 5 // å¢åŠ #define D 6 // åˆ é™¤#define Qall 7 // æŸ¥è¯¢æ‰€æœ‰#define N 32//ä¿¡æ¯ç»“æ„ä½“typedef struct{ int type; //é€‰æ‹© int id; //ç”¨æˆ·ID char name[64]; //å›¾ä¹¦åå­— char pass[64]; // passwordå¯†ç  char data[256]; //emarkè¿”å›æ•°æ® char author[64]; //å›¾ä¹¦ä½œè€… char note[256]; //å›¾ä¹¦å¤‡æ³¨}MSG;int socket_connect(const char *argv[]);void do_register(int sockfd, MSG *msg);int do_login(int sockfd, MSG *msg);void all_query(int sockfd, MSG *msg);void do_add(int sockfd, MSG *msg);void do_delete(int sockfd, MSG *msg);void do_modify(int sockfd, MSG *msg);#endif","link":"/posts/undefined.html"},{"title":"Butterflyä¸»é¢˜çš„ç¾åŒ–","text":"æœ¬ç¯‡æ–‡ç« æ˜¯åšä¸»è‡ªå·±çš„ç¾åŒ–æ—¥è®°ï¼Œè®°å½•ä»¥é˜²ä¹‹åå‡ºé”™æ‰¾ä¸åˆ°é—®é¢˜ğŸ¤£ æœ¬æ–‡ç« å‚è€ƒåšä¸»å®‰çŸ¥é±¼çš„Butterflyé‡è£…æ—¥è®° npmåˆ‡æ¢æ·˜å®æº123npm config set registry https://registry.npm.taobao.org# åˆ‡å›æºnpm config set registry https://registry.npmjs.org/ å®‰è£…Hexo1234npm install hexo-cli -ghexo initnpm install hexo-deployer-git --savenpm install hexo-renderer-pug hexo-renderer-stylus --save å®‰è£…Butterfly1git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly ä¿®æ”¹_config.ymlä»¥ä¸‹ä¸ºæˆ‘è‡ªå·±çš„config 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: å°æ˜ŸçƒğŸsubtitle: ''description: 'æˆ‘æ°¸è¿œå–œæ¬¢å°ç›ˆğŸ’•'keywords:author: å°æ˜Ÿlanguage: zh-CNtimezone: ''# URL## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'url: http://guxing.funpermalink: :year/:month/:day/:title/permalink_defaults:pretty_urls: trailing_index: true # Set to false to remove trailing 'index.html' from permalinks trailing_html: true # Set to false to remove trailing '.html' from permalinks# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: ''filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: '' wrap: true hljs: falseprismjs: enable: false preprocess: true line_number: true tab_replace: ''# Home page setting# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 10 order_by: -date# Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Metadata elements## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/metameta_generator: true# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss## updated_option supports 'mtime', 'date', 'empty'updated_option: 'mtime'# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Include / Exclude file(s)## include:/exclude: options only apply to the 'source/' folderinclude:exclude:ignore:# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: butterfly# Deployment## Docs: https://hexo.io/docs/one-command-deploymentdeploy: type: 'git' repository: git@github.com:GuxingBo/GuxingBo.github.io.git branch: main é…ç½®è‡ªå®šä¹‰cssæ–°å»ºæ–‡ä»¶[Blog]/source/css/custom.css,åœ¨custom.cssä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹ä»¥ä¸‹ä¸ºåšä¸»è‡ªå·±çš„css 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869 /* å¤œé—´æ¨¡å¼é®ç½©é€æ˜ */ [data-theme=&quot;dark&quot;] #footer::before { background: transparent !important; } [data-theme=&quot;dark&quot;] #page-header::before { background: transparent !important; }/* é¡µè„šé€æ˜ */ #footer { background: transparent !important; }/* é¡¶éƒ¨åŠ è½½æ¸å˜æ¡ */ .pace { -webkit-pointer-events: none; pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none; z-index: 2000; position: fixed; margin: auto; top: 4px; left: 0; right: 0; height: 8px; border-radius: 8px; width: 7rem; background: #eaecf2; border: 1px #e3e8f7; overflow: hidden}.pace-inactive .pace-progress { opacity: 0; transition: .3s ease-in}.pace .pace-progress { -webkit-box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -o-box-sizing: border-box; box-sizing: border-box; -webkit-transform: translate3d(0, 0, 0); -moz-transform: translate3d(0, 0, 0); -ms-transform: translate3d(0, 0, 0); -o-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); max-width: 200px; position: absolute; z-index: 2000; display: block; top: 0; right: 100%; height: 100%; width: 100%; /* linear-gradient(to right, #3494e6, #ec6ead) */ background: linear-gradient(to right, #43cea2, #3866ca); animation: gradient 2s ease infinite; background-size: 200%}.pace.pace-inactive { opacity: 0; transition: .3s; top: -8px} ä¸è¦å¿˜è®°åœ¨ä¸»é¢˜_config.ymlä¸­æœç´¢ Inject æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå°†è‡ªå®šä¹‰ csscustom.csså¼•å…¥ 123inject:head: - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot; media=&quot;defer&quot; onload=&quot;this.media='all'&quot;&gt; å­—æ•°ç»Ÿè®¡å®‰è£…ä¾èµ–1npm install hexo-wordcount --save åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æ›´æ”¹é…ç½®é¡¹1234567# wordcount (å­—æ•°ç»Ÿè®¡)# see https://butterfly.js.org/posts/ceeb73f/#å­—æ•°ç»Ÿè®¡wordcount: enable: true post_wordcount: true min2read: true total_wordcount: true æœ¬åœ°æœç´¢å®‰è£…ä¾èµ–1npm install hexo-generator-search --save åœ¨_config.ymlæ–‡ä»¶ä¸­æ–°å¢é…ç½®é¡¹12345# æœ¬åœ°æœç´¢ï¼šhttps://github.com/wzpan/hexo-generator-searchsearch: path: search.xml field: all content: true åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æ›´æ”¹é…ç½®é¡¹12345# Local searchlocal_search: enable: true preload: false CDN: æ–‡ç« åŒæ å‚è€ƒï¼šhttps://zfe.space/post/hexo-butterfly-article-double-row.html å®‰è£…ä¾èµ–1npm i hexo-butterfly-article-double-row --save åœ¨_config.ymlæ–‡ä»¶ä¸­æ–°å¢é…ç½®é¡¹123# æ–‡ç« åŒæ butterfly_article_double_row: enable: true ç•™è¨€æ¿ï¼šè–‡å°”è‰ç‰¹ä¿¡å°å®‰è£…ä¾èµ–1npm install hexo-butterfly-envelope --save åœ¨_config.ymlä¸­æ·»åŠ é…ç½®é¡¹12345678910111213141516171819202122 # envelope_comment# see https://akilar.top/posts/e2d3c450/# envelope_comment# see https://akilar.top/posts/e2d3c450/envelope_comment: enable: true #æ§åˆ¶å¼€å…³ custom_pic: cover: https://cdn.cbd.int//hexo-butterfly-envelope/lib/violet.jpg #ä¿¡ç¬ºå¤´éƒ¨å›¾ç‰‡ line: https://cdn.cbd.int/hexo-butterfly-envelope/lib/line.png #ä¿¡ç¬ºåº•éƒ¨å›¾ç‰‡ beforeimg: https://cdn.cbd.int/hexo-butterfly-envelope/lib/before.png # ä¿¡å°å‰åŠéƒ¨åˆ† afterimg: https://cdn.cbd.int/hexo-butterfly-envelope/lib/after.png # ä¿¡å°ååŠéƒ¨åˆ† message: #ä¿¡ç¬ºæ­£æ–‡ï¼Œå¤šè¡Œæ–‡æœ¬ï¼Œå†™æ³•å¦‚ä¸‹ - æœ¬ç«™æœ‰å“ªäº›åšå¾—å¥½æˆ–è€…ä¸å¥½çš„åœ°æ–¹ï¼Ÿ - æˆ–è€…ä½ æœ‰ä»€ä¹ˆæ”¹è¿›çš„å»ºè®®ï¼Ÿ - åˆæˆ–è€…ä½ æœ‰ä»€ä¹ˆå…·ä½“çš„é—®é¢˜éœ€è¦å’¨è¯¢ï¼Ÿ - éƒ½å¯ä»¥åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€å“¦ï½ bottom: XLyb #ä»…æ”¯æŒå•è¡Œæ–‡æœ¬ height: #1050pxï¼Œä¿¡å°åˆ’å‡ºçš„é«˜åº¦ path: #ã€å¯é€‰ã€‘comments çš„è·¯å¾„åç§°ã€‚é»˜è®¤ä¸º commentsï¼Œç”Ÿæˆçš„é¡µé¢ä¸º comments/index.html front_matter: #ã€å¯é€‰ã€‘commentsé¡µé¢çš„ front_matter é…ç½® title: ç•™è¨€æ¿ comments: true åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶config.ymlä¸­menuå¤„æ–°å¢1ç•™è¨€æ¿: /comments/ || fas fa-envelope é¡µè„šgithubå¾½æ ‡å’Œè®¡æ—¶å™¨å‚è€ƒ: https://www.npmjs.com/package/hexo-butterfly-footer-beautify å®‰è£…ä¾èµ–1npm install hexo-butterfly-footer-beautify --save åœ¨_config.ymlä¸­æ·»åŠ é…ç½®é¡¹12345678910111213141516171819202122232425262728293031323334353637383940 # footer_beautify# é¡µè„šè®¡æ—¶å™¨ï¼š[Native JS Timer](https://akilar.top/posts/b941af/)# é¡µè„šå¾½æ ‡ï¼š[Add Github Badge](https://akilar.top/posts/e87ad7f8/)footer_beautify: enable: timer: true # è®¡æ—¶å™¨å¼€å…³ bdage: true # å¾½æ ‡å¼€å…³ priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ enable_page: all # åº”ç”¨é¡µé¢ exclude: # - /posts/ # - /about/ layout: # æŒ‚è½½å®¹å™¨ç±»å‹ type: id name: footer-wrap index: 0 # è®¡æ—¶å™¨éƒ¨åˆ†é…ç½®é¡¹ runtime_js: /js/runtime.js runtime_css: https://npm.elemecdn.com/anzhiyu-blog@2.0.4/css/runtime/runtime.min.css # å¾½æ ‡éƒ¨åˆ†é…ç½®é¡¹ swiperpara: 0 #è‹¥é0ï¼Œåˆ™å¼€å¯è½®æ’­åŠŸèƒ½ï¼Œæ¯è¡Œå¾½æ ‡ä¸ªæ•° bdageitem: - link: https://hexo.io/ #å¾½æ ‡æŒ‡å‘ç½‘ç«™é“¾æ¥ shields: https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo #å¾½æ ‡API message: åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0 #å¾½æ ‡æç¤ºè¯­ - link: https://butterfly.js.org/ shields: https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender message: ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.5.1 - link: https://www.jsdelivr.com/ shields: https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr message: æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ - link: https://github.com/ shields: https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub message: æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡ - link: http://creativecommons.org/licenses/by-nc-sa/4.0/ shields: https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris message: æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ # swiper_css: https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper.min.css # swiper_js: https://cdn.cbd.int/hexo-butterfly-swiper/lib/swiper.min.js # swiperbdage_init_js: https://cdn.cbd.int/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js æ–°å»ºæ–‡ä»¶[Blog]/source/js/runtime.js,åœ¨runtime.jsä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹12345678910111213141516171819202122232425var now = new Date();function createtime() { var grt = new Date(&quot;04/01/2021 00:00:00&quot;); now.setTime(now.getTime() + 250); var days = (now - grt) / 1e3 / 60 / 60 / 24, dnum = Math.floor(days), hours = (now - grt) / 1e3 / 60 / 60 - 24 * dnum, hnum = Math.floor(hours); 1 == String(hnum).length &amp;&amp; (hnum = &quot;0&quot; + hnum); var minutes = (now - grt) / 1e3 / 60 - 1440 * dnum - 60 * hnum, mnum = Math.floor(minutes); 1 == String(mnum).length &amp;&amp; (mnum = &quot;0&quot; + mnum); var seconds = (now - grt) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum, snum = Math.round(seconds); 1 == String(snum).length &amp;&amp; (snum = &quot;0&quot; + snum); let currentTimeHtml = &quot;&quot;; (currentTimeHtml = hnum &lt; 18 &amp;&amp; hnum &gt;= 9 ? `&lt;img class='boardsign' src='https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg' title='è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~'&gt;&lt;span class='textTip'&gt; &lt;br&gt; æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©&lt;/span&gt;&lt;span id='runtime'&gt; ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ &lt;/span&gt; &lt;i class='fas fa-heartbeat' style='color:red'&gt;&lt;/i&gt;` : `&lt;img class='boardsign' src='https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg' title='ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~'&gt;&lt;span class='textTip'&gt; &lt;br&gt; æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©&lt;/span&gt;&lt;span id='runtime'&gt; ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ &lt;/span&gt; &lt;i class='fas fa-heartbeat' style='color:red'&gt;&lt;/i&gt;`), document.getElementById(&quot;workboard&quot;) &amp;&amp; (document.getElementById(&quot;workboard&quot;).innerHTML = currentTimeHtml);}setInterval(() =&gt; { createtime();}, 250); ç”µå­é’Ÿå‚è€ƒï¼šhttps://anzhiy.cn/posts/fc18.html å®‰è£…ä¾èµ–1npm install hexo-butterfly-clock-anzhiyu --save åœ¨_config.ymlä¸­æ·»åŠ é…ç½®é¡¹123456789101112131415161718192021# electric_clock# see https://anzhiy.cn/posts/fc18.htmlelectric_clock: enable: true # å¼€å…³ priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ enable_page: all # åº”ç”¨é¡µé¢ exclude: # - /posts/ # - /about/ layout: # æŒ‚è½½å®¹å™¨ç±»å‹ type: class name: sticky_layout index: 0 loading: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif #åŠ è½½åŠ¨ç”»è‡ªå®šä¹‰ clock_css: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css clock_js: https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js ip_api: https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0 qweather_key: # å’Œé£å¤©æ°”key gaud_map_key: # é«˜å¾—åœ°å›¾webæœåŠ¡key default_rectangle: true # å¼€å¯åå°†ä¸€ç›´æ˜¾ç¤ºrectangleä½ç½®çš„å¤©æ°”ï¼Œå¦åˆ™å°†è·å–è®¿é—®è€…çš„åœ°ç†ä½ç½®ä¸å¤©æ°” rectangle: 112.6534116,27.96920845 # è·å–è®¿é—®è€…ä½ç½®å¤±è´¥æ—¶ä¼šæ˜¾ç¤ºè¯¥ä½ç½®çš„å¤©æ°”ï¼ŒåŒæ—¶è¯¥ä½ç½®ä¸ºå¼€å¯default_rectangleåçš„ä½ç½® Gitcalendaråº—é•¿åŸæ•™ç¨‹ï¼šhttps://akilar.top/posts/1f9c68c9/APIçš„è·å–å‚è€ƒåº—é•¿çš„åŸæ•™ç¨‹ å®‰è£…ä¾èµ–1npm install hexo-filter-gitcalendar --save åœ¨_config.ymlä¸­æ·»åŠ é…ç½®é¡¹1234567891011121314151617181920212223# hexo-filter-gitcalendar# see https://akilar.top/posts/1f9c68c9/gitcalendar: enable: true # å¼€å…³ priority: 5 #è¿‡æ»¤å™¨ä¼˜å…ˆæƒ enable_page: / # åº”ç”¨é¡µé¢ # butterflyæŒ‚è½½å®¹å™¨ layout: # æŒ‚è½½å®¹å™¨ç±»å‹ type: id name: recent-posts index: 0 user: anzhiyu-c #gitç”¨æˆ·å apiurl: &quot;https://python-github-calendar-api-spk83h666-anzhiyu-c.vercel.app&quot; minheight: pc: 280px #æ¡Œé¢ç«¯æœ€å°é«˜åº¦ mibile: 0px #ç§»åŠ¨ç«¯æœ€å°é«˜åº¦ # color: &quot;['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06']&quot; #æ©˜é»„è‰²è°ƒ color: &quot;['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f']&quot; #æµ…ç´«è‰²è°ƒ # color: &quot;['#ebedf0', '#f0fff4', '#dcffe4', '#bef5cb', '#85e89d', '#34d058', '#28a745', '#22863a', '#176f2c', '#165c26', '#144620']&quot; #ç¿ ç»¿è‰²è°ƒ # color: &quot;['#ebedf0', '#f1f8ff', '#dbedff', '#c8e1ff', '#79b8ff', '#2188ff', '#0366d6', '#005cc5', '#044289', '#032f62', '#05264c']&quot; #å¤©é’è‰²è°ƒ container: .recent-post-item(style='width:100%;height:auto;padding:10px;') #çˆ¶å…ƒç´ å®¹å™¨ï¼Œéœ€è¦ä½¿ç”¨pugè¯­æ³• gitcalendar_css: https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.css gitcalendar_js: https://cdn.cbd.int/hexo-filter-gitcalendar/lib/gitcalendar.js å‹æƒ…é“¾æ¥ç¾åŒ– å‚è€ƒ: https://anzhiy.cn/posts/292d.html ç«™ç‚¹åŠ¨æ€ titleç«™ç‚¹å…¬ç¥­æ—¥è‡ªåŠ¨å˜ç°åˆ¤å®šé‚£å¹´ä»Šæ—¥","link":"/posts/undefined.html"},{"title":"Cè¯­è¨€ä¸­çš„ä¸€äº›å‡½æ•°ä½¿ç”¨","text":"é€šè¿‡Cè¯­è¨€å®ç°æ•°ç»„çš„è¾“å…¥ã€è¾“å‡ºï¼Œæ±‚å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ä»¥åŠæ•°æ®è¾“å‡ºçš„å†’æ³¡æ’åºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;stdio.h&gt;#define SIZE 5int main(){ float src[SIZE]={0}; int i=0; int j=0; float t=0; float sum=0; float arv=0; float max=0; float min=0; printf(&quot;è¯·è¾“å…¥%dä¸ªæ•°\\n&quot;,SIZE); //è¾“å…¥æ•°ç»„ for(i=0;i&lt;SIZE;i++) { scanf(&quot;%f&quot;,&amp;src[i]); } for(i=0;i&lt;SIZE;i++) //æ±‚å’Œ { sum+=src[i]; } arv=sum/SIZE; //æ±‚å¹³å‡å€¼ for(max=src[0],min=src[0],i=1;i&lt;SIZE;i++) //æ±‚æœ€å¤§å€¼æœ€å°å€¼ { if(max&lt;src[i]) { max=src[i]; }else min=src[i]; } for(i=0;i&lt;SIZE-1;i++) //å†’æ³¡æ’åº { for(j=0;j&lt;SIZE-1-i;j++) { if(src[j]&gt;src[j+1]) { t=src[j]; src[j]=src[j+1]; src[j+1]=t; } } } for(i=0;i&lt;SIZE;i++) { printf(&quot;%.2f &quot;,src[i]); } printf(&quot;sum=%.2f arv=%.2f max=%.2f min=%.2f\\n&quot;,sum,arv,max,min); return 0;} é€šè¿‡Cè¯­è¨€æ±‚è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š 12345678910111213141516#include &lt;stdio.h&gt;int main(){ char src[100] = {0}; printf(&quot;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²&quot;); scanf(&quot;%s&quot;,src); int i = 0; while(src[i] != '\\0') { i++; } printf(&quot;è¿™ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯%d\\n&quot;,i); return 0;} Cè¯­è¨€ä¸­strcatå‡½æ•°çš„ä½¿ç”¨ï¼š 1234567891011121314151617181920212223#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define M 10#define N 10int main(){ char src1[M] = {0}; char src2[M] = {0}; printf(&quot;è¯·è¾“å…¥src2å’Œsrc2ï¼Œæ³¨æ„ä¸èƒ½è¶…è¿‡%dä¸ªå­—ç¬¦\\n&quot;,M-1); gets(src1); gets(src2); //getsæ²¡æœ‰è¶Šç•Œæ£€æŸ¥ if((strlen(src1) + strlen(src2) + 1) &gt; sizeof(src1)) { printf(&quot;srcå¤§å°ä¸å¤Ÿç”¨\\n&quot;); return -1; } strcat(src1, src2); //strcatä¸ä¼šè¿›è¡Œè¶Šç•Œæ£€æŸ¥ puts(src1); return 0;} Cè¯­è¨€ä¸­stcrmpå‡½æ•°çš„ä½¿ç”¨ï¼š 1234567891011121314151617181920212223242526272829303132#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define S 20int main(){ char src1[S] = {0}; char src2[S] = {0}; printf(&quot;è¯·è¾“å…¥src1å’Œsrc2ï¼Œæ³¨æ„ä¸èƒ½è¶…è¿‡%dä¸ªå­—ç¬¦\\n&quot;,S-1); gets(src1); gets(src2); //getsä¸ä¼šè¿›è¡Œè¶Šç•Œæ£€æŸ¥ if((strlen(src1) + strlen(src2) + 1) &gt; sizeof(src1)) { printf(&quot;srcå¤§å°ä¸å¤Ÿç”¨\\n&quot;); return -1; } int ret = strcmp(src1, src2); if(ret &gt;0) { printf(&quot;src1 &gt; src2\\n&quot;); } else if(ret == 0) { printf(&quot;src1 == src2\\n&quot;); } else { printf(&quot;src1 &lt; src2\\n&quot;); } return 0;} Cè¯­è¨€ä¸­strcpyå‡½æ•°çš„ä½¿ç”¨ï¼š 123456789101112131415161718192021222324#include &lt;stdio.h&gt;#include &lt;string.h&gt;#define M 10#define N 1000int main(){ char src1[M] = {0}; char src2[N] = {0}; gets(src1); gets(src2); //è¿›è¡Œè¶Šç•Œæ£€æŸ¥ if((strlen(src2) + 1) &gt; sizeof(src1)) { printf(&quot;src2å¤ªé•¿äº†\\n&quot;); return -1; } strcpy(src1, src2); puts(src1); return 0;}","link":"/posts/undefined.html"},{"title":"Shellè„šæœ¬","text":"Shellè„šæœ¬ cè¯­è¨€ï¼šç¼–è¯‘æ€§è¯­è¨€ï¼Œå¼ºç±»å‹è¯­è¨€ï¼ˆå¯¹æ•°æ®ç±»å‹åŒºåˆ†çš„å¾ˆæ¸…æ¥šï¼‰ shellè„šæœ¬ï¼šè§£é‡Šæ€§è¯­è¨€ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼‰ï¼Œå¼±ç±»å‹è¯­è¨€ï¼Œä¸€å †å‘½ä»¤çš„é›†åˆ åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶vi 1.sh 123#!/bin/bash#å‘Šè¯‰è®¡ç®—æœºä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„shellæ¥è§£æä»£ç calï¼›date: æ‰§è¡Œæ—¶æ²¡æœ‰æƒé™ï¼Œéœ€è¦äººä¸ºå»æ·»åŠ æƒé™ chmod 777 1.shæˆ–è€…chmod a+x 1.sh Shellå˜é‡è‡ªå®šä¹‰å˜é‡shellå…è®¸ç”¨æˆ·å»ºç«‹ å˜é‡å­˜å‚¨ç±»å‹ï¼Œå®ƒä¸æ”¯æŒæ•°æ®ç±»å‹ æ³¨æ„ï¼š 1.ä»»ä½•èµ‹å€¼ç»™å˜é‡çš„å€¼éƒ½è¢«shellè§£é‡Šä¸ºä¸€ä¸²å­—ç¬¦ 2.è¦å–ç”¨å˜é‡çš„å€¼ï¼Œåªéœ€è¦åœ¨å˜é‡å‰é¢åŠ ä¸€ä¸ª$ 3.ç­‰å·çš„å·¦å³ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼ å‘½åè§„èŒƒï¼š 1.ç”±æ•°å­—ã€å­—æ¯ä¸‹åˆ’çº¿ç»„æˆï¼Œä¸”é¦–å­—æ¯ä¸èƒ½ä¸ºæ•°å­— 2.shellä¸­å˜é‡é€šå¸¸ç”¨å¤§å†™æ ‡è¯† 123456789#!bin/bashINT=12FOLAT=1.34STRING=&quot;hello&quot;echo &quot;INT = $INT&quot;echo &quot;FLOAT = $FLOAT&quot;echo &quot;STRING = $STRING&quot; é¢„å®šä¹‰å˜é‡ å˜é‡ å«ä¹‰ $0 å½“å‰è„šæœ¬çš„æ–‡ä»¶åã€‚ $nï¼ˆnâ‰¥1ï¼‰ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ã€‚n æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬å‡ ä¸ªå‚æ•°ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ $1ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ $2ã€‚ $# ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚ $* ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚ $@ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚å½“è¢«åŒå¼•å·&quot; &quot;åŒ…å«æ—¶ï¼Œ$@ ä¸ $* ç¨æœ‰ä¸åŒã€‚ $? ä¸Šä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œæˆ–å‡½æ•°çš„è¿”å›å€¼ã€‚ $$ å½“å‰ Shell è¿›ç¨‹ IDã€‚å¯¹äº Shell è„šæœ¬ï¼Œå°±æ˜¯è¿™äº›è„šæœ¬æ‰€åœ¨çš„è¿›ç¨‹ IDã€‚ Shellç¨‹åºå’Œè¯­å¥è¯´æ˜æ€§è¯­å¥1# æ³¨é‡Šå†…å®¹ åŠŸèƒ½æ€§è¯­å¥è¾“å‡ºï¼š echo è‡ªå¸¦æ¢è¡Œå‚æ•° echo -n ä¸æ¢è¡Œ 1234#!/bin/bashecho &quot;hello&quot;echo -n &quot;hello shell&quot; è¾“å…¥ï¼š read -p æ·»åŠ æç¤ºè¯­ 12345678910111213#!/bin/bashecho &quot;è¾“å…¥ä¿©ä¸ªæ•´æ•°&quot;read NUM1 NUM2echo &quot;NUM1 = $NUM1 NUM2=$NUM2&quot;read -p &quot;è¯·è¾“å…¥ä¿©ä¸ªå°æ•°&quot; NUM3 NUM4echo &quot;NUM3 = $NUM3 NUM4=$NUM4&quot;#readæ¢è¡Œread -p &quot;è¯·è¾“å…¥ä¿©ä¸ªå­—ç¬¦&quot; NUM5 NUM6echo &quot;NUM5 = $NUM5 NUM6=$NUM6&quot;","link":"/posts/undefined.html"},{"title":"Linuxå¸¸ç”¨å‘½ä»¤","text":"Linuxå¸¸ç”¨å‘½ä»¤lså‘½ä»¤å°±æ˜¯ list çš„ç¼©å†™ï¼Œé€šè¿‡ ls å‘½ä»¤ä¸ä»…å¯ä»¥æŸ¥çœ‹ linux æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶ï¼Œè€Œä¸”å¯ä»¥æŸ¥çœ‹æ–‡ä»¶æƒé™(åŒ…æ‹¬ç›®å½•ã€æ–‡ä»¶å¤¹ã€æ–‡ä»¶æƒé™)î€‚æŸ¥çœ‹ç›®å½•ä¿¡æ¯ç­‰ç­‰ã€‚ å¸¸ç”¨å‚æ•°æ­é…ï¼š 1234567ls -a åˆ—å‡ºç›®å½•æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…å«ä»¥.å¼€å§‹çš„éšè—æ–‡ä»¶ls -A åˆ—å‡ºé™¤.åŠ..çš„å…¶å®ƒæ–‡ä»¶ls -r ååºæ’åˆ—ls -t ä»¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ’åºls -S ä»¥æ–‡ä»¶å¤§å°æ’åºls -h ä»¥æ˜“è¯»å¤§å°æ˜¾ç¤ºls -l é™¤äº†æ–‡ä»¶åä¹‹å¤–ï¼Œè¿˜å°†æ–‡ä»¶çš„æƒé™ã€æ‰€æœ‰è€…ã€æ–‡ä»¶å¤§å°ç­‰ä¿¡æ¯è¯¦ç»†åˆ—å‡ºæ¥ å®ä¾‹ï¼š (1) æŒ‰æ˜“è¯»æ–¹å¼æŒ‰æ—¶é—´ååºæ’åºï¼Œå¹¶æ˜¾ç¤ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ 1ls -lhrt (2) æŒ‰å¤§å°ååºæ˜¾ç¤ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ 1ls -lrS (3)åˆ—å‡ºå½“å‰ç›®å½•ä¸­æ‰€æœ‰ä»¥â€tâ€å¼€å¤´çš„ç›®å½•çš„è¯¦ç»†å†…å®¹ 1ls -l t* (4) åˆ—å‡ºæ–‡ä»¶ç»å¯¹è·¯å¾„ï¼ˆä¸åŒ…å«éšè—æ–‡ä»¶ï¼‰ 1ls | sed &quot;s:^:`pwd`/:&quot; (5) åˆ—å‡ºæ–‡ä»¶ç»å¯¹è·¯å¾„ï¼ˆåŒ…å«éšè—æ–‡ä»¶ï¼‰ 1find $pwd -maxdepth 1 | xargs ls -ld cd å‘½ä»¤cd(changeDirectory) å‘½ä»¤è¯­æ³•ï¼š 1cd [ç›®å½•å] è¯´æ˜ï¼šåˆ‡æ¢å½“å‰ç›®å½•è‡³ dirNameã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰è¿›å…¥è¦ç›®å½• 1cd / ï¼ˆ2ï¼‰è¿›å…¥ â€œhomeâ€ ç›®å½• 1cd ~ ï¼ˆ3ï¼‰è¿›å…¥ä¸Šä¸€æ¬¡å·¥ä½œè·¯å¾„ 1cd - ï¼ˆ4ï¼‰æŠŠä¸Šä¸ªå‘½ä»¤çš„å‚æ•°ä½œä¸ºcdå‚æ•°ä½¿ç”¨ã€‚ 1cd !$ pwd å‘½ä»¤pwd å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•è·¯å¾„ã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥çœ‹å½“å‰è·¯å¾„ 1pwd ï¼ˆ2ï¼‰æŸ¥çœ‹è½¯é“¾æ¥çš„å®é™…è·¯å¾„ 1pwd -P mkdir å‘½ä»¤mkdir å‘½ä»¤ç”¨äºåˆ›å»ºæ–‡ä»¶å¤¹ã€‚ å¯ç”¨é€‰é¡¹ï¼š 12mkdir -m: å¯¹æ–°å»ºç›®å½•è®¾ç½®å­˜å–æƒé™ï¼Œä¹Ÿå¯ä»¥ç”¨ chmod å‘½ä»¤è®¾ç½®;mkdir -p: å¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„åç§°ã€‚æ­¤æ—¶è‹¥è·¯å¾„ä¸­çš„æŸäº›ç›®å½•å°šä¸å­˜åœ¨,åŠ ä¸Šæ­¤é€‰é¡¹åï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å»ºç«‹å¥½é‚£äº›å°šä¸åœ¨çš„ç›®å½•ï¼Œå³ä¸€æ¬¡å¯ä»¥å»ºç«‹å¤šä¸ªç›®å½•ã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰å½“å‰å·¥ä½œç›®å½•ä¸‹åˆ›å»ºåä¸º tçš„æ–‡ä»¶å¤¹ 1mkdir t ï¼ˆ2ï¼‰åœ¨ tmp ç›®å½•ä¸‹åˆ›å»ºè·¯å¾„ä¸º test/t1/t çš„ç›®å½•ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºï¼š 1mkdir -p /tmp/test/t1/t rm å‘½ä»¤åˆ é™¤ä¸€ä¸ªç›®å½•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ -r é€‰é¡¹ï¼Œåˆ™ rm ä¸ä¼šåˆ é™¤ç›®å½•ã€‚å¦‚æœä½¿ç”¨ rm æ¥åˆ é™¤æ–‡ä»¶ï¼Œé€šå¸¸ä»å¯ä»¥å°†è¯¥æ–‡ä»¶æ¢å¤åŸçŠ¶ã€‚ 1rm [é€‰é¡¹] æ–‡ä»¶â€¦ å®ä¾‹ï¼š ï¼ˆ1ï¼‰åˆ é™¤ä»»ä½• .log æ–‡ä»¶ï¼Œåˆ é™¤å‰é€ä¸€è¯¢é—®ç¡®è®¤ï¼š 1rm -i *.log ï¼ˆ2ï¼‰åˆ é™¤ test å­ç›®å½•åŠå­ç›®å½•ä¸­æ‰€æœ‰æ¡£æ¡ˆåˆ é™¤ï¼Œå¹¶ä¸”ä¸ç”¨ç¡®è®¤ï¼š 1rm -rf test ï¼ˆ3ï¼‰åˆ é™¤ä»¥ -f å¼€å¤´çš„æ–‡ä»¶ 1rm -- -f* rmdir å‘½ä»¤ä»ä¸€ä¸ªç›®å½•ä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå­ç›®å½•é¡¹ï¼Œåˆ é™¤æŸç›®å½•æ—¶ä¹Ÿå¿…é¡»å…·æœ‰å¯¹å…¶çˆ¶ç›®å½•çš„å†™æƒé™ã€‚ æ³¨æ„ï¼šä¸èƒ½åˆ é™¤éç©ºç›®å½• å®ä¾‹ï¼š ï¼ˆ1ï¼‰å½“ parent å­ç›®å½•è¢«åˆ é™¤åä½¿å®ƒä¹Ÿæˆä¸ºç©ºç›®å½•çš„è¯ï¼Œåˆ™é¡ºä¾¿ä¸€å¹¶åˆ é™¤ï¼š 1rmdir -p parent/child/child11 mv å‘½ä»¤ç§»åŠ¨æ–‡ä»¶æˆ–ä¿®æ”¹æ–‡ä»¶åï¼Œæ ¹æ®ç¬¬äºŒå‚æ•°ç±»å‹ï¼ˆå¦‚ç›®å½•ï¼Œåˆ™ç§»åŠ¨æ–‡ä»¶ï¼›å¦‚ä¸ºæ–‡ä»¶åˆ™é‡å‘½ä»¤è¯¥æ–‡ä»¶ï¼‰ã€‚ å½“ç¬¬äºŒä¸ªå‚æ•°ä¸ºç›®å½•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å¤šä¸ªä»¥ç©ºæ ¼åˆ†éš”çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œç„¶åç§»åŠ¨ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„å¤šä¸ªæ–‡ä»¶åˆ°ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šçš„ç›®å½•ä¸­ã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰å°†æ–‡ä»¶ test.log é‡å‘½åä¸º test1.txt 1mv test.log test1.txt ï¼ˆ2ï¼‰å°†æ–‡ä»¶ log1.txt,log2.txt,log3.txt ç§»åŠ¨åˆ°æ ¹çš„ test3 ç›®å½•ä¸­ 1mv llog1.txt log2.txt log3.txt /test3 ï¼ˆ3ï¼‰å°†æ–‡ä»¶ file1 æ”¹åä¸º file2ï¼Œå¦‚æœ file2 å·²ç»å­˜åœ¨ï¼Œåˆ™è¯¢é—®æ˜¯å¦è¦†ç›– 1mv -i log1.txt log2.txt ï¼ˆ4ï¼‰ç§»åŠ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°ä¸Šä¸€çº§ç›®å½• 1mv * ../ cp å‘½ä»¤å°†æºæ–‡ä»¶å¤åˆ¶è‡³ç›®æ ‡æ–‡ä»¶ï¼Œæˆ–å°†å¤šä¸ªæºæ–‡ä»¶å¤åˆ¶è‡³ç›®æ ‡ç›®å½•ã€‚ æ³¨æ„ï¼šå‘½ä»¤è¡Œå¤åˆ¶ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ä¼šæç¤ºæ˜¯å¦è¦†ç›–ï¼Œè€Œåœ¨ shell è„šæœ¬ä¸­ï¼Œå¦‚æœä¸åŠ  -i å‚æ•°ï¼Œåˆ™ä¸ä¼šæç¤ºï¼Œè€Œæ˜¯ç›´æ¥è¦†ç›–ï¼ 123cp -i æç¤ºcp -r å¤åˆ¶ç›®å½•åŠç›®å½•å†…æ‰€æœ‰é¡¹ç›®cp -a å¤åˆ¶çš„æ–‡ä»¶ä¸åŸæ–‡ä»¶æ—¶é—´ä¸€æ · å®ä¾‹ï¼š ï¼ˆ1ï¼‰å¤åˆ¶ a.txt åˆ° test ç›®å½•ä¸‹ï¼Œä¿æŒåŸæ–‡ä»¶æ—¶é—´ï¼Œå¦‚æœåŸæ–‡ä»¶å­˜åœ¨æç¤ºæ˜¯å¦è¦†ç›–ã€‚ 1cp -ai a.txt test ï¼ˆ2ï¼‰ä¸º a.txt å»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼ˆå¿«æ·æ–¹å¼ï¼‰ 1cp -s a.txt link_a.txt cat å‘½ä»¤cat ä¸»è¦æœ‰ä¸‰å¤§åŠŸèƒ½ï¼š 1.ä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶: 1cat filename 2.ä»é”®ç›˜åˆ›å»ºä¸€ä¸ªæ–‡ä»¶: 1cat &gt; filename åªèƒ½åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¸èƒ½ç¼–è¾‘å·²æœ‰æ–‡ä»¶ã€‚ 3.å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶: 123cat file1 file2 &gt; filecat -n è¾“å‡ºæ‰€æœ‰è¡Œå·cat -b å¯¹éç©ºè¾“å‡ºè¡Œå· å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŠŠ log2012.log çš„æ–‡ä»¶å†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ log2013.log è¿™ä¸ªæ–‡ä»¶é‡Œ 1cat -n log2012.log log2013.log ï¼ˆ2ï¼‰æŠŠ log2012.log å’Œ log2013.log çš„æ–‡ä»¶å†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° log.log é‡Œ 1cat -b log2012.log log2013.log log.log ï¼ˆ3ï¼‰ä½¿ç”¨ here doc ç”Ÿæˆæ–°æ–‡ä»¶ 12345678910cat &gt;log.txt &lt;&lt;EOF&gt;Hello&gt;World&gt;PWD=$(pwd)&gt;EOFls -l log.txtcat log.txtHelloWorldPWD=/opt/soft/test ï¼ˆ4ï¼‰åå‘åˆ—ç¤º 1234tac log.txtPWD=/opt/soft/testWorldHello more å‘½ä»¤åŠŸèƒ½ç±»ä¼¼äº cat, more ä¼šä»¥ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–¹ä¾¿ä½¿ç”¨è€…é€é¡µé˜…è¯»ï¼Œè€Œæœ€åŸºæœ¬çš„æŒ‡ä»¤å°±æ˜¯æŒ‰ç©ºç™½é”®ï¼ˆspaceï¼‰å°±å¾€ä¸‹ä¸€é¡µæ˜¾ç¤ºï¼ŒæŒ‰ b é”®å°±ä¼šå¾€å›ï¼ˆbackï¼‰ä¸€é¡µæ˜¾ç¤ºã€‚ å‘½ä»¤å‚æ•°ï¼š 123456789+n ä»ç¬¬nè¡Œå¼€å§‹æ˜¾ç¤º-n å®šä¹‰å±å¹•å¤§å°ä¸ºnè¡Œ+/pattern åœ¨æ¯ä¸ªæ¡£æ¡ˆæ˜¾ç¤ºå‰æœå¯»è¯¥å­—ä¸²ï¼ˆpatternï¼‰ï¼Œç„¶åä»è¯¥å­—ä¸²å‰ä¸¤è¡Œä¹‹åå¼€å§‹æ˜¾ç¤º -c ä»é¡¶éƒ¨æ¸…å±ï¼Œç„¶åæ˜¾ç¤º-d æç¤ºâ€œPress space to continueï¼Œâ€™qâ€™ to quitï¼ˆæŒ‰ç©ºæ ¼é”®ç»§ç»­ï¼ŒæŒ‰qé”®é€€å‡ºï¼‰â€ï¼Œç¦ç”¨å“é“ƒåŠŸèƒ½-l å¿½ç•¥Ctrl+lï¼ˆæ¢é¡µï¼‰å­—ç¬¦-p é€šè¿‡æ¸…é™¤çª—å£è€Œä¸æ˜¯æ»šå±æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ¢é¡µï¼Œä¸-cé€‰é¡¹ç›¸ä¼¼-s æŠŠè¿ç»­çš„å¤šä¸ªç©ºè¡Œæ˜¾ç¤ºä¸ºä¸€è¡Œ-u æŠŠæ–‡ä»¶å†…å®¹ä¸­çš„ä¸‹ç”»çº¿å»æ‰ å¸¸ç”¨æ“ä½œå‘½ä»¤ï¼š 123456789Enter å‘ä¸‹ n è¡Œï¼Œéœ€è¦å®šä¹‰ã€‚é»˜è®¤ä¸º 1 è¡ŒCtrl+F å‘ä¸‹æ»šåŠ¨ä¸€å±ç©ºæ ¼é”® å‘ä¸‹æ»šåŠ¨ä¸€å±Ctrl+B è¿”å›ä¸Šä¸€å±= è¾“å‡ºå½“å‰è¡Œçš„è¡Œå·:f è¾“å‡ºæ–‡ä»¶åå’Œå½“å‰è¡Œçš„è¡Œå·V è°ƒç”¨viç¼–è¾‘å™¨!å‘½ä»¤ è°ƒç”¨Shellï¼Œå¹¶æ‰§è¡Œå‘½ä»¤q é€€å‡ºmore å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºæ–‡ä»¶ä¸­ä»ç¬¬3è¡Œèµ·çš„å†…å®¹ 1more +3 text.txt ï¼ˆ2ï¼‰åœ¨æ‰€åˆ—å‡ºæ–‡ä»¶ç›®å½•è¯¦ç»†ä¿¡æ¯ï¼Œå€ŸåŠ©ç®¡é“ä½¿æ¯æ¬¡æ˜¾ç¤º 5 è¡Œ 1ls -l | more -5 æŒ‰ç©ºæ ¼æ˜¾ç¤ºä¸‹ 5 è¡Œã€‚ less å‘½ä»¤less ä¸ more ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ less å¯ä»¥éšæ„æµè§ˆæ–‡ä»¶ï¼Œè€Œ more ä»…èƒ½å‘å‰ç§»åŠ¨ï¼Œå´ä¸èƒ½å‘åç§»åŠ¨ï¼Œè€Œä¸” less åœ¨æŸ¥çœ‹ä¹‹å‰ä¸ä¼šåŠ è½½æ•´ä¸ªæ–‡ä»¶ã€‚ å¸¸ç”¨å‘½ä»¤å‚æ•°ï¼š 12345678910111213141516171819-i å¿½ç•¥æœç´¢æ—¶çš„å¤§å°å†™-N æ˜¾ç¤ºæ¯è¡Œçš„è¡Œå·-o &lt;æ–‡ä»¶å&gt; å°†less è¾“å‡ºçš„å†…å®¹åœ¨æŒ‡å®šæ–‡ä»¶ä¸­ä¿å­˜èµ·æ¥-s æ˜¾ç¤ºè¿ç»­ç©ºè¡Œä¸ºä¸€è¡Œ/ å­—ç¬¦ä¸²ï¼šå‘ä¸‹æœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½? å­—ç¬¦ä¸²ï¼šå‘ä¸Šæœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½nï¼š é‡å¤å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ / æˆ– ? æœ‰å…³ï¼‰Nï¼š åå‘é‡å¤å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ / æˆ– ? æœ‰å…³ï¼‰-x &lt;æ•°å­—&gt; å°†â€œtabâ€é”®æ˜¾ç¤ºä¸ºè§„å®šçš„æ•°å­—ç©ºæ ¼b å‘åç¿»ä¸€é¡µd å‘åç¿»åŠé¡µh æ˜¾ç¤ºå¸®åŠ©ç•Œé¢Q é€€å‡ºless å‘½ä»¤u å‘å‰æ»šåŠ¨åŠé¡µy å‘å‰æ»šåŠ¨ä¸€è¡Œç©ºæ ¼é”® æ»šåŠ¨ä¸€è¡Œå›è½¦é”® æ»šåŠ¨ä¸€é¡µ[pagedown]ï¼š å‘ä¸‹ç¿»åŠ¨ä¸€é¡µ[pageup]ï¼š å‘ä¸Šç¿»åŠ¨ä¸€é¡µ å®ä¾‹ï¼š ï¼ˆ1ï¼‰ps æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯å¹¶é€šè¿‡ less åˆ†é¡µæ˜¾ç¤º 1ps -aux | less -N ï¼ˆ2ï¼‰æŸ¥çœ‹å¤šä¸ªæ–‡ä»¶ 1less 1.log 2.log å¯ä»¥ä½¿ç”¨ n æŸ¥çœ‹ä¸‹ä¸€ä¸ªï¼Œä½¿ç”¨ p æŸ¥çœ‹å‰ä¸€ä¸ªã€‚ head å‘½ä»¤head ç”¨æ¥æ˜¾ç¤ºæ¡£æ¡ˆçš„å¼€å¤´è‡³æ ‡å‡†è¾“å‡ºä¸­ï¼Œé»˜è®¤ head å‘½ä»¤æ‰“å°å…¶ç›¸åº”æ–‡ä»¶çš„å¼€å¤´ 10 è¡Œã€‚ å¸¸ç”¨å‚æ•°ï¼š 1-n &lt;è¡Œæ•°&gt;æ˜¾ç¤ºçš„è¡Œæ•°ï¼ˆè¡Œæ•°ä¸ºå¤æ•°è¡¨ç¤ºä»æœ€åå‘å‰æ•°ï¼‰ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤º 1.log æ–‡ä»¶ä¸­å‰ 20 è¡Œ 1head 1.log -n 20 ï¼ˆ2ï¼‰æ˜¾ç¤º 1.log æ–‡ä»¶å‰ 20 å­—èŠ‚ 1head -c 20 log2014.log ï¼ˆ3ï¼‰æ˜¾ç¤º t.logæœ€å 10 è¡Œ 1head -n -10 t.log tail å‘½ä»¤ç”¨äºæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æœ«å°¾å†…å®¹ï¼Œä¸æŒ‡å®šæ–‡ä»¶æ—¶ï¼Œä½œä¸ºè¾“å…¥ä¿¡æ¯è¿›è¡Œå¤„ç†ã€‚å¸¸ç”¨æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ã€‚ å¸¸ç”¨å‚æ•°ï¼š 12-f å¾ªç¯è¯»å–ï¼ˆå¸¸ç”¨äºæŸ¥çœ‹é€’å¢çš„æ—¥å¿—æ–‡ä»¶ï¼‰-n &lt;è¡Œæ•°&gt; æ˜¾ç¤ºè¡Œæ•°ï¼ˆä»åå‘å‰ï¼‰ ï¼ˆ1ï¼‰å¾ªç¯è¯»å–é€æ¸å¢åŠ çš„æ–‡ä»¶å†…å®¹ 1ping 127.0.0.1 &gt; ping.log &amp; åå°è¿è¡Œï¼šå¯ä½¿ç”¨ jobs -l æŸ¥çœ‹ï¼Œä¹Ÿå¯ä½¿ç”¨ fg å°†å…¶ç§»åˆ°å‰å°è¿è¡Œã€‚ 1tail -f ping.log ï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰ which å‘½ä»¤åœ¨ linux è¦æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶ï¼Œä½†ä¸çŸ¥é“æ”¾åœ¨å“ªé‡Œäº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¸€äº›å‘½ä»¤æ¥æœç´¢ï¼š 1234which æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ã€‚whereis æŸ¥çœ‹æ–‡ä»¶çš„ä½ç½®ã€‚locate é…åˆæ•°æ®åº“æŸ¥çœ‹æ–‡ä»¶ä½ç½®ã€‚find å®é™…æœå¯»ç¡¬ç›˜æŸ¥è¯¢æ–‡ä»¶åç§°ã€‚ which æ˜¯åœ¨ PATH å°±æ˜¯æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæœç´¢æŸä¸ªç³»ç»Ÿå‘½ä»¤çš„ä½ç½®ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªæœç´¢ç»“æœã€‚ä½¿ç”¨ which å‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°æŸä¸ªç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠæ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸€ä¸ªä½ç½®çš„å‘½ä»¤ã€‚ å¸¸ç”¨å‚æ•°ï¼š 1whicj -n æŒ‡å®šæ–‡ä»¶åé•¿åº¦ï¼ŒæŒ‡å®šçš„é•¿åº¦å¿…é¡»å¤§äºæˆ–ç­‰äºæ‰€æœ‰æ–‡ä»¶ä¸­æœ€é•¿çš„æ–‡ä»¶åã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥çœ‹ ls å‘½ä»¤æ˜¯å¦å­˜åœ¨ï¼Œæ‰§è¡Œå“ªä¸ª 1which ls ï¼ˆ2ï¼‰æŸ¥çœ‹ which 1which which ï¼ˆ3ï¼‰æŸ¥çœ‹ cd 1which cdï¼ˆæ˜¾ç¤ºä¸å­˜åœ¨ï¼Œå› ä¸º cd æ˜¯å†…å»ºå‘½ä»¤ï¼Œè€Œ which æŸ¥æ‰¾æ˜¾ç¤ºæ˜¯ PATH ä¸­çš„å‘½ä»¤ï¼‰ æŸ¥çœ‹å½“å‰ PATH é…ç½®ï¼š 1echo $PATH æˆ–ä½¿ç”¨ env æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡åŠå¯¹åº”å€¼ whereis å‘½ä»¤whereis å‘½ä»¤åªèƒ½ç”¨äºç¨‹åºåçš„æœç´¢ï¼Œè€Œä¸”åªæœç´¢äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå‚æ•°-bï¼‰ã€manè¯´æ˜æ–‡ä»¶ï¼ˆå‚æ•°-mï¼‰å’Œæºä»£ç æ–‡ä»¶ï¼ˆå‚æ•°-sï¼‰ã€‚å¦‚æœçœç•¥å‚æ•°ï¼Œåˆ™è¿”å›æ‰€æœ‰ä¿¡æ¯ã€‚whereis åŠ locate éƒ½æ˜¯åŸºäºç³»ç»Ÿå†…å»ºçš„æ•°æ®åº“è¿›è¡Œæœç´¢ï¼Œå› æ­¤æ•ˆç‡å¾ˆé«˜ï¼Œè€Œfindåˆ™æ˜¯éå†ç¡¬ç›˜æŸ¥æ‰¾æ–‡ä»¶ã€‚ å¸¸ç”¨å‚æ•°ï¼š 1234-b å®šä½å¯æ‰§è¡Œæ–‡ä»¶ã€‚-m å®šä½å¸®åŠ©æ–‡ä»¶ã€‚-s å®šä½æºä»£ç æ–‡ä»¶ã€‚-u æœç´¢é»˜è®¤è·¯å¾„ä¸‹é™¤å¯æ‰§è¡Œæ–‡ä»¶ã€æºä»£ç æ–‡ä»¶ã€å¸®åŠ©æ–‡ä»¶ä»¥å¤–çš„å…¶å®ƒæ–‡ä»¶ã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥æ‰¾ locate ç¨‹åºç›¸å…³æ–‡ä»¶ 1whereis locate ï¼ˆ2ï¼‰æŸ¥æ‰¾ locate çš„æºç æ–‡ä»¶ 1whereis -s locate ï¼ˆ3ï¼‰æŸ¥æ‰¾ lcoate çš„å¸®åŠ©æ–‡ä»¶ 1whereis -m locate locate å‘½ä»¤locate é€šè¿‡æœå¯»ç³»ç»Ÿå†…å»ºæ–‡æ¡£æ•°æ®åº“è¾¾åˆ°å¿«é€Ÿæ‰¾åˆ°æ¡£æ¡ˆï¼Œæ•°æ®åº“ç”± updatedb ç¨‹åºæ¥æ›´æ–°ï¼Œupdatedb æ˜¯ç”± cron daemon å‘¨æœŸæ€§è°ƒç”¨çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ locate å‘½ä»¤åœ¨æœå¯»æ•°æ®åº“æ—¶æ¯”ç”±æ•´ä¸ªç”±ç¡¬ç›˜èµ„æ–™æ¥æœå¯»èµ„æ–™æ¥å¾—å¿«ï¼Œä½†è¾ƒå·®åŠ²çš„æ˜¯ locate æ‰€æ‰¾åˆ°çš„æ¡£æ¡ˆè‹¥æ˜¯æœ€è¿‘æ‰å»ºç«‹æˆ– åˆšæ›´åçš„ï¼Œå¯èƒ½ä¼šæ‰¾ä¸åˆ°ï¼Œåœ¨å†…å®šå€¼ä¸­ï¼Œupdatedb æ¯å¤©ä¼šè·‘ä¸€æ¬¡ï¼Œå¯ä»¥ç”±ä¿®æ”¹ crontab æ¥æ›´æ–°è®¾å®šå€¼ (etc/crontab)ã€‚locate ä¸ find å‘½ä»¤ç›¸ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ *ã€? ç­‰è¿›è¡Œæ­£åˆ™åŒ¹é…æŸ¥æ‰¾ å¸¸ç”¨å‚æ•°ï¼š 123-l numï¼ˆè¦æ˜¾ç¤ºçš„è¡Œæ•°ï¼‰-f å°†ç‰¹å®šçš„æ¡£æ¡ˆç³»ç»Ÿæ’é™¤åœ¨å¤–ï¼Œå¦‚å°†procæ’é™¤åœ¨å¤–-r ä½¿ç”¨æ­£åˆ™è¿ç®—å¼åšä¸ºå¯»æ‰¾æ¡ä»¶ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥æ‰¾å’Œ pwd ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶(æ–‡ä»¶åä¸­åŒ…å« pwdï¼‰ 1locate pwd ï¼ˆ2ï¼‰æœç´¢ etc ç›®å½•ä¸‹æ‰€æœ‰ä»¥ sh å¼€å¤´çš„æ–‡ä»¶ 1locate /etc/sh ï¼ˆ3ï¼‰æŸ¥æ‰¾ /var ç›®å½•ä¸‹ï¼Œä»¥ reason ç»“å°¾çš„æ–‡ä»¶ 1locate -r '^/var.*reason$'ï¼ˆå…¶ä¸­.è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œ*è¡¨ç¤ºä»»åŠ¡å¤šä¸ªï¼›.*è¡¨ç¤ºä»»æ„å¤šä¸ªå­—ç¬¦ï¼‰ find å‘½ä»¤ç”¨äºåœ¨æ–‡ä»¶æ ‘ä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¹¶ä½œå‡ºç›¸åº”çš„å¤„ç†ã€‚ å‘½ä»¤æ ¼å¼ï¼š 1find pathname -options [-print -exec -ok ...] å‘½ä»¤å‚æ•°ï¼š 1234pathname: findå‘½ä»¤æ‰€æŸ¥æ‰¾çš„ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ç”¨.æ¥è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç”¨/æ¥è¡¨ç¤ºç³»ç»Ÿæ ¹ç›®å½•ã€‚-printï¼š findå‘½ä»¤å°†åŒ¹é…çš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚-execï¼š findå‘½ä»¤å¯¹åŒ¹é…çš„æ–‡ä»¶æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ã€‚ç›¸åº”å‘½ä»¤çš„å½¢å¼ä¸º'command' { } \\;ï¼Œæ³¨æ„{ }å’Œ\\ï¼›ä¹‹é—´çš„ç©ºæ ¼ã€‚-okï¼š å’Œ-execçš„ä½œç”¨ç›¸åŒï¼Œåªä¸è¿‡ä»¥ä¸€ç§æ›´ä¸ºå®‰å…¨çš„æ¨¡å¼æ¥æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ï¼Œåœ¨æ‰§è¡Œæ¯ä¸€ä¸ªå‘½ä»¤ä¹‹å‰ï¼Œéƒ½ä¼šç»™å‡ºæç¤ºï¼Œè®©ç”¨æˆ·æ¥ç¡®å®šæ˜¯å¦æ‰§è¡Œã€‚ å‘½ä»¤é€‰é¡¹ï¼š 12345678910111213141516171819202122-name æŒ‰ç…§æ–‡ä»¶åæŸ¥æ‰¾æ–‡ä»¶-perm æŒ‰æ–‡ä»¶æƒé™æŸ¥æ‰¾æ–‡ä»¶-user æŒ‰æ–‡ä»¶å±ä¸»æŸ¥æ‰¾æ–‡ä»¶-group æŒ‰ç…§æ–‡ä»¶æ‰€å±çš„ç»„æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚-type æŸ¥æ‰¾æŸä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œè¯¸å¦‚ï¼š b - å—è®¾å¤‡æ–‡ä»¶ d - ç›®å½• c - å­—ç¬¦è®¾å¤‡æ–‡ä»¶ l - ç¬¦å·é“¾æ¥æ–‡ä»¶ p - ç®¡é“æ–‡ä»¶ f - æ™®é€šæ–‡ä»¶-size n :[c] æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦ä¸ºnå—æ–‡ä»¶ï¼Œå¸¦æœ‰cæ—¶è¡¨æ–‡ä»¶å­—èŠ‚å¤§å°-amin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè®¿é—®çš„æ–‡ä»¶-atime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è®¿é—®çš„æ–‡ä»¶-cmin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè¢«æ”¹å˜æ–‡ä»¶çŠ¶æ€çš„æ–‡ä»¶-ctime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è¢«æ”¹å˜æ–‡ä»¶çŠ¶æ€çš„æ–‡ä»¶-mmin n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€åNåˆ†é’Ÿè¢«æ”¹å˜æ–‡ä»¶æ•°æ®çš„æ–‡ä»¶-mtime n æŸ¥æ‰¾ç³»ç»Ÿä¸­æœ€ån*24å°æ—¶è¢«æ”¹å˜æ–‡ä»¶æ•°æ®çš„æ–‡ä»¶(ç”¨å‡å·-æ¥é™å®šæ›´æ”¹æ—¶é—´åœ¨è·ä»Šnæ—¥ä»¥å†…çš„æ–‡ä»¶ï¼Œè€Œç”¨åŠ å·+æ¥é™å®šæ›´æ”¹æ—¶é—´åœ¨è·ä»Šnæ—¥ä»¥å‰çš„æ–‡ä»¶ã€‚ )-maxdepth n æœ€å¤§æŸ¥æ‰¾ç›®å½•æ·±åº¦-prune é€‰é¡¹æ¥æŒ‡å‡ºéœ€è¦å¿½ç•¥çš„ç›®å½•ã€‚åœ¨ä½¿ç”¨-pruneé€‰é¡¹æ—¶è¦å½“å¿ƒï¼Œå› ä¸ºå¦‚æœä½ åŒæ—¶ä½¿ç”¨äº†-depthé€‰é¡¹ï¼Œé‚£ä¹ˆ-pruneé€‰é¡¹å°±ä¼šè¢«findå‘½ä»¤å¿½ç•¥-newer å¦‚æœå¸Œæœ›æŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æŸä¸ªæ–‡ä»¶æ–°ä½†æ¯”å¦ä¸€ä¸ªæ–‡ä»¶æ—§çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨-neweré€‰é¡¹ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥æ‰¾ 48 å°æ—¶å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶ 1find -atime -2 ï¼ˆ2ï¼‰åœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ ä»¥ .log ç»“å°¾çš„æ–‡ä»¶ã€‚ . ä»£è¡¨å½“å‰ç›®å½• 1find ./ -name '*.log' ï¼ˆ3ï¼‰æŸ¥æ‰¾ /opt ç›®å½•ä¸‹ æƒé™ä¸º 777 çš„æ–‡ä»¶ 1find /opt -perm 777 ï¼ˆ4ï¼‰æŸ¥æ‰¾å¤§äº 1K çš„æ–‡ä»¶ 1find -size +1000c æŸ¥æ‰¾ç­‰äº 1000 å­—ç¬¦çš„æ–‡ä»¶ 1find -size 1000c -exec å‚æ•°åé¢è·Ÿçš„æ˜¯ command å‘½ä»¤ï¼Œå®ƒçš„ç»ˆæ­¢æ˜¯ä»¥ ; ä¸ºç»“æŸæ ‡å¿—çš„ï¼Œæ‰€ä»¥è¿™å¥å‘½ä»¤åé¢çš„åˆ†å·æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼Œè€ƒè™‘åˆ°å„ä¸ªç³»ç»Ÿä¸­åˆ†å·ä¼šæœ‰ä¸åŒçš„æ„ä¹‰ï¼Œæ‰€ä»¥å‰é¢åŠ åæ–œæ ã€‚{} èŠ±æ‹¬å·ä»£è¡¨å‰é¢findæŸ¥æ‰¾å‡ºæ¥çš„æ–‡ä»¶åã€‚ å®ä¾‹ï¼š ï¼ˆ5ï¼‰åœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨10æ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬(æ— æé†’ï¼‰ 1find . -type f -mtime +10 -exec rm -f {} \\; ï¼ˆ6ï¼‰å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰æ–‡ä»¶åä»¥.logç»“å°¾ã€æ›´æ”¹æ—¶é—´åœ¨5æ—¥ä»¥ä¸Šçš„æ–‡ä»¶ï¼Œå¹¶åˆ é™¤å®ƒä»¬ï¼Œåªä¸è¿‡åœ¨åˆ é™¤ä¹‹å‰å…ˆç»™å‡ºæç¤ºã€‚ æŒ‰yé”®åˆ é™¤æ–‡ä»¶ï¼ŒæŒ‰né”®ä¸åˆ é™¤ 1find . -name '*.log' mtime +5 -ok -exec rm {} \\; ï¼ˆ7ï¼‰å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶åä»¥ passwd å¼€å¤´ï¼Œå†…å®¹åŒ…å« â€œpkgâ€ å­—ç¬¦çš„æ–‡ä»¶ 1find . -f -name 'passwd*' -exec grep &quot;pkg&quot; {} \\; ï¼ˆ8ï¼‰ç”¨ exec é€‰é¡¹æ‰§è¡Œ cp å‘½ä»¤ 1find . -name '*.log' -exec cp {} test3 \\; -xargs find å‘½ä»¤æŠŠåŒ¹é…åˆ°çš„æ–‡ä»¶ä¼ é€’ç»™ xargs å‘½ä»¤ï¼Œè€Œ xargs å‘½ä»¤æ¯æ¬¡åªè·å–ä¸€éƒ¨åˆ†æ–‡ä»¶è€Œä¸æ˜¯å…¨éƒ¨ï¼Œä¸åƒ -exec é€‰é¡¹é‚£æ ·ã€‚è¿™æ ·å®ƒå¯ä»¥å…ˆå¤„ç†æœ€å…ˆè·å–çš„ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œç„¶åæ˜¯ä¸‹ä¸€æ‰¹ï¼Œå¹¶å¦‚æ­¤ç»§ç»­ä¸‹å»ã€‚ å®ä¾‹ï¼š ï¼ˆ9ï¼‰æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ¯ä¸ªæ™®é€šæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ xargs æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ 1find . -type f -print | xargs file ï¼ˆ10ï¼‰æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥ js ç»“å°¾çš„å¹¶ä¸”å…¶ä¸­åŒ…å« â€˜editorâ€™ å­—ç¬¦çš„æ™®é€šæ–‡ä»¶ 12find . -type f -name &quot;*.js&quot; -exec grep -lF 'ueditor' {} \\;find -type f -name '*.js' | xargs grep -lF 'editor' ï¼ˆ11ï¼‰åˆ©ç”¨ xargs æ‰§è¡Œ mv å‘½ä»¤ 1find . -name &quot;*.log&quot; | xargs -i mv {} test4 ï¼ˆ12ï¼‰ç”¨ grep å‘½ä»¤åœ¨å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ™®é€šæ–‡ä»¶ä¸­æœç´¢ hostnames è¿™ä¸ªè¯ï¼Œå¹¶æ ‡å‡ºæ‰€åœ¨è¡Œï¼š 1find . -name \\*(è½¬ä¹‰ï¼‰ -type f -print | xargs grep -n 'hostnames' ï¼ˆ13ï¼‰æŸ¥æ‰¾å½“å‰ç›®å½•ä¸­ä»¥ä¸€ä¸ªå°å†™å­—æ¯å¼€å¤´ï¼Œæœ€åæ˜¯ 4 åˆ° 9 åŠ ä¸Š .log ç»“æŸçš„æ–‡ä»¶ï¼š 1find . -name '[a-z]*[4-9].log' -print ï¼ˆ14ï¼‰åœ¨ test ç›®å½•æŸ¥æ‰¾ä¸åœ¨ test4 å­ç›®å½•æŸ¥æ‰¾ 1find test -path 'test/test4' -prune -o -print ï¼ˆ15ï¼‰å®ä¾‹1ï¼šæŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æ–‡ä»¶ log2012.logæ–°ä½†æ¯”æ–‡ä»¶ log2017.log æ—§çš„æ–‡ä»¶ 1find -newer log2012.log ! -newer log2017.log ä½¿ç”¨ depth é€‰é¡¹ï¼š depth é€‰é¡¹å¯ä»¥ä½¿ find å‘½ä»¤å‘ç£å¸¦ä¸Šå¤‡ä»½æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œå¸Œæœ›é¦–å…ˆå¤‡ä»½æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå…¶æ¬¡å†å¤‡ä»½å­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚å®ä¾‹ï¼šfind å‘½ä»¤ä»æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•å¼€å§‹ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªåä¸º CON.FILE çš„æ–‡ä»¶ã€‚ å®ƒå°†é¦–å…ˆåŒ¹é…æ‰€æœ‰çš„æ–‡ä»¶ç„¶åå†è¿›å…¥å­ç›®å½•ä¸­æŸ¥æ‰¾ 1find / -name &quot;CON.FILE&quot; -depth -print chmod å‘½ä»¤ç”¨äºæ”¹å˜ linux ç³»ç»Ÿæ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚ç”¨å®ƒæ§åˆ¶æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™ã€‚è¯¥å‘½ä»¤æœ‰ä¸¤ç§ç”¨æ³•ã€‚ä¸€ç§æ˜¯åŒ…å«å­—æ¯å’Œæ“ä½œç¬¦è¡¨è¾¾å¼çš„æ–‡å­—è®¾å®šæ³•ï¼›å¦ä¸€ç§æ˜¯åŒ…å«æ•°å­—çš„æ•°å­—è®¾å®šæ³•ã€‚æ¯ä¸€æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æƒé™éƒ½æœ‰ä¸‰ç»„ï¼Œæ¯ç»„ç”¨ä¸‰ä½è¡¨ç¤ºï¼Œåˆ†åˆ«ä¸ºæ–‡ä»¶å±ä¸»çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ï¼›ä¸å±ä¸»åŒç»„çš„ç”¨æˆ·çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ï¼›ç³»ç»Ÿä¸­å…¶ä»–ç”¨æˆ·çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ã€‚å¯ä½¿ç”¨ ls -l test.txt æŸ¥æ‰¾ã€‚ä»¥æ–‡ä»¶ log2012.log ä¸ºä¾‹ï¼š 1-rw-r--r-- 1 root root 296K 11-13 06:03 log2012.log ç¬¬ä¸€åˆ—å…±æœ‰ 10 ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦æŒ‡å®šäº†æ–‡ä»¶ç±»å‹ã€‚åœ¨é€šå¸¸æ„ä¹‰ä¸Šï¼Œä¸€ä¸ªç›®å½•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ¨ªçº¿ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªéç›®å½•çš„æ–‡ä»¶ã€‚å¦‚æœæ˜¯ dï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªç›®å½•ã€‚ä»ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°ç¬¬åä¸ª 9 ä¸ªå­—ç¬¦ï¼Œ3 ä¸ªå­—ç¬¦ä¸€ç»„ï¼Œåˆ†åˆ«è¡¨ç¤ºäº† 3 ç»„ç”¨æˆ·å¯¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æƒé™ã€‚æƒé™å­—ç¬¦ç”¨æ¨ªçº¿ä»£è¡¨ç©ºè®¸å¯ï¼Œr ä»£è¡¨åªè¯»ï¼Œw ä»£è¡¨å†™ï¼Œx ä»£è¡¨å¯æ‰§è¡Œã€‚ å¸¸ç”¨å‚æ•°ï¼š 12-c å½“å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠ¥å‘Šå¤„ç†ä¿¡æ¯-R å¤„ç†æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ æƒé™èŒƒå›´ï¼š 1234u ï¼šç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç”¨æˆ·g ï¼šç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰çš„ç¾¤ç»„o ï¼šé™¤äº†ç›®å½•æˆ–è€…æ–‡ä»¶çš„å½“å‰ç”¨æˆ·æˆ–ç¾¤ç»„ä¹‹å¤–çš„ç”¨æˆ·æˆ–è€…ç¾¤ç»„a ï¼šæ‰€æœ‰çš„ç”¨æˆ·åŠç¾¤ç»„ æƒé™ä»£å·ï¼š 12345r ï¼šè¯»æƒé™ï¼Œç”¨æ•°å­—4è¡¨ç¤ºw ï¼šå†™æƒé™ï¼Œç”¨æ•°å­—2è¡¨ç¤ºx ï¼šæ‰§è¡Œæƒé™ï¼Œç”¨æ•°å­—1è¡¨ç¤º- ï¼šåˆ é™¤æƒé™ï¼Œç”¨æ•°å­—0è¡¨ç¤ºs ï¼šç‰¹æ®Šæƒé™ å®ä¾‹ï¼š ï¼ˆ1ï¼‰å¢åŠ æ–‡ä»¶ t.log æ‰€æœ‰ç”¨æˆ·å¯æ‰§è¡Œæƒé™ 1chmod a+x t.log ï¼ˆ2ï¼‰æ’¤é”€åŸæ¥æ‰€æœ‰çš„æƒé™ï¼Œç„¶åä½¿æ‹¥æœ‰è€…å…·æœ‰å¯è¯»æƒé™,å¹¶è¾“å‡ºå¤„ç†ä¿¡æ¯ 1chmod u=r t.log -c ï¼ˆ3ï¼‰ç»™ file çš„å±ä¸»åˆ†é…è¯»ã€å†™ã€æ‰§è¡Œ(7)çš„æƒé™ï¼Œç»™fileçš„æ‰€åœ¨ç»„åˆ†é…è¯»ã€æ‰§è¡Œ(5)çš„æƒé™ï¼Œç»™å…¶ä»–ç”¨æˆ·åˆ†é…æ‰§è¡Œ(1)çš„æƒé™ 1chmod 751 t.log -cï¼ˆæˆ–è€…ï¼šchmod u=rwx,g=rx,o=x t.log -c) ï¼ˆ4ï¼‰å°† test ç›®å½•åŠå…¶å­ç›®å½•æ‰€æœ‰æ–‡ä»¶æ·»åŠ å¯è¯»æƒé™ 1chmod u+r,g+r,o+r -R text/ -c 19ã€tar å‘½ä»¤ ç”¨æ¥å‹ç¼©å’Œè§£å‹æ–‡ä»¶ã€‚tar æœ¬èº«ä¸å…·æœ‰å‹ç¼©åŠŸèƒ½ï¼Œåªå…·æœ‰æ‰“åŒ…åŠŸèƒ½ï¼Œæœ‰å…³å‹ç¼©åŠè§£å‹æ˜¯è°ƒç”¨å…¶å®ƒçš„åŠŸèƒ½æ¥å®Œæˆã€‚ å¼„æ¸…ä¸¤ä¸ªæ¦‚å¿µï¼šæ‰“åŒ…å’Œå‹ç¼©ã€‚æ‰“åŒ…æ˜¯æŒ‡å°†ä¸€å¤§å †æ–‡ä»¶æˆ–ç›®å½•å˜æˆä¸€ä¸ªæ€»çš„æ–‡ä»¶ï¼›å‹ç¼©åˆ™æ˜¯å°†ä¸€ä¸ªå¤§çš„æ–‡ä»¶é€šè¿‡ä¸€äº›å‹ç¼©ç®—æ³•å˜æˆä¸€ä¸ªå°æ–‡ä»¶ å¸¸ç”¨å‚æ•°ï¼š 12345678910-c å»ºç«‹æ–°çš„å‹ç¼©æ–‡ä»¶-f æŒ‡å®šå‹ç¼©æ–‡ä»¶-r æ·»åŠ æ–‡ä»¶åˆ°å·²ç»å‹ç¼©æ–‡ä»¶åŒ…ä¸­-u æ·»åŠ æ”¹äº†å’Œç°æœ‰çš„æ–‡ä»¶åˆ°å‹ç¼©åŒ…ä¸­-x ä»å‹ç¼©åŒ…ä¸­æŠ½å–æ–‡ä»¶-t æ˜¾ç¤ºå‹ç¼©æ–‡ä»¶ä¸­çš„å†…å®¹-z æ”¯æŒgzipå‹ç¼©-j æ”¯æŒbzip2å‹ç¼©-Z æ”¯æŒcompressè§£å‹æ–‡ä»¶-v æ˜¾ç¤ºæ“ä½œè¿‡ç¨‹ æœ‰å…³ gzip åŠ bzip2 å‹ç¼©: 12345gzip å®ä¾‹ï¼šå‹ç¼© gzip fileName .tar.gz å’Œ.tgz è§£å‹ï¼šgunzip filename.gz æˆ– gzip -d filename.gz å¯¹åº”ï¼štar zcvf filename.tar.gz tar zxvf filename.tar.gzbz2å®ä¾‹ï¼šå‹ç¼© bzip2 -z filename .tar.bz2 è§£å‹ï¼šbunzip filename.bz2æˆ–bzip -d filename.bz2 å¯¹åº”ï¼štar jcvf filename.tar.gz è§£å‹ï¼štar jxvf filename.tar.bz2 å®ä¾‹ï¼š ï¼ˆ1ï¼‰å°†æ–‡ä»¶å…¨éƒ¨æ‰“åŒ…æˆ tar åŒ… 1tar -cvf log.tar 1.log,2.log æˆ–tar -cvf log.* ï¼ˆ2ï¼‰å°† /etc ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠç›®å½•æ‰“åŒ…åˆ°æŒ‡å®šç›®å½•ï¼Œå¹¶ä½¿ç”¨ gz å‹ç¼© 1tar -zcvf /tmp/etc.tar.gz /etc ï¼ˆ3ï¼‰æŸ¥çœ‹åˆšæ‰“åŒ…çš„æ–‡ä»¶å†…å®¹ï¼ˆä¸€å®šåŠ zï¼Œå› ä¸ºæ˜¯ä½¿ç”¨ gzip å‹ç¼©çš„ï¼‰ 1tar -ztvf /tmp/etc.tar.gz ï¼ˆ4ï¼‰è¦å‹ç¼©æ‰“åŒ… /home, /etc ï¼Œä½†ä¸è¦ /home/dmtsai 1tar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc chown å‘½ä»¤chown å°†æŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…æ”¹ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç»„ï¼Œç”¨æˆ·å¯ä»¥æ˜¯ç”¨æˆ·åæˆ–è€…ç”¨æˆ· IDï¼›ç»„å¯ä»¥æ˜¯ç»„åæˆ–è€…ç»„ IDï¼›æ–‡ä»¶æ˜¯ä»¥ç©ºæ ¼åˆ†å¼€çš„è¦æ”¹å˜æƒé™çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ”¯æŒé€šé…ç¬¦ã€‚ 12-c æ˜¾ç¤ºæ›´æ”¹çš„éƒ¨åˆ†çš„ä¿¡æ¯-R å¤„ç†æŒ‡å®šç›®å½•åŠå­ç›®å½• å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ”¹å˜æ‹¥æœ‰è€…å’Œç¾¤ç»„ å¹¶æ˜¾ç¤ºæ”¹å˜ä¿¡æ¯ 1chown -c mail:mail log2012.log ï¼ˆ2ï¼‰æ”¹å˜æ–‡ä»¶ç¾¤ç»„ 1chown -c :mail t.log ï¼ˆ3ï¼‰æ”¹å˜æ–‡ä»¶å¤¹åŠå­æ–‡ä»¶ç›®å½•å±ä¸»åŠå±ç»„ä¸º mail 1chown -cR mail: test/ df å‘½ä»¤æ˜¾ç¤ºç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰æ–‡ä»¶åè¢«æŒ‡å®šï¼Œåˆ™æ‰€æœ‰å½“å‰è¢«æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿçš„å¯ç”¨ç©ºé—´å°†è¢«æ˜¾ç¤ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç£ç›˜ç©ºé—´å°†ä»¥ 1KB ä¸ºå•ä½è¿›è¡Œæ˜¾ç¤ºï¼Œé™¤éç¯å¢ƒå˜é‡ POSIXLY_CORRECT è¢«æŒ‡å®šï¼Œé‚£æ ·å°†ä»¥512å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæ˜¾ç¤ºï¼š 123456-a å…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨-h ä»¥æ–¹ä¾¿é˜…è¯»çš„æ–¹å¼æ˜¾ç¤ºä¿¡æ¯-i æ˜¾ç¤ºinodeä¿¡æ¯-k åŒºå—ä¸º1024å­—èŠ‚-l åªæ˜¾ç¤ºæœ¬åœ°ç£ç›˜-T åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿç±»å‹ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µ 1df -l ï¼ˆ2ï¼‰ä»¥æ˜“è¯»æ–¹å¼åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ç³»ç»ŸåŠå…¶ç±»å‹ 1df -haT du å‘½ä»¤du å‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸ df å‘½ä»¤ä¸åŒçš„æ˜¯ Linux du å‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼š å‘½ä»¤æ ¼å¼ï¼š 1du [é€‰é¡¹] [æ–‡ä»¶] å¸¸ç”¨å‚æ•°ï¼š 1234567-a æ˜¾ç¤ºç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶å¤§å°-k ä»¥KBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°-m ä»¥MBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°-g ä»¥GBä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°-h ä»¥æ˜“è¯»æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤§å°-s ä»…æ˜¾ç¤ºæ€»è®¡-cæˆ–--total é™¤äº†æ˜¾ç¤ºä¸ªåˆ«ç›®å½•æˆ–æ–‡ä»¶çš„å¤§å°å¤–ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºæ‰€æœ‰ç›®å½•æˆ–æ–‡ä»¶çš„æ€»å’Œ å®ä¾‹ï¼š ï¼ˆ1ï¼‰ä»¥æ˜“è¯»æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤¹å†…åŠå­æ–‡ä»¶å¤¹å¤§å° 1du -h scf/ ï¼ˆ2ï¼‰ä»¥æ˜“è¯»æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶å¤§å° 1du -ah scf/ ï¼ˆ3ï¼‰æ˜¾ç¤ºå‡ ä¸ªæ–‡ä»¶æˆ–ç›®å½•å„è‡ªå ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°ï¼Œè¿˜ç»Ÿè®¡å®ƒä»¬çš„æ€»å’Œ 1du -hc test/ scf/ ï¼ˆ4ï¼‰è¾“å‡ºå½“å‰ç›®å½•ä¸‹å„ä¸ªå­ç›®å½•æ‰€ä½¿ç”¨çš„ç©ºé—´ 1du -hc --max-depth=1 scf/ ln å‘½ä»¤åŠŸèƒ½æ˜¯ä¸ºæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ï¼Œå½“åœ¨ä¸åŒç›®å½•éœ€è¦è¯¥é—®é¢˜æ—¶ï¼Œå°±ä¸éœ€è¦ä¸ºæ¯ä¸€ä¸ªç›®å½•åˆ›å»ºåŒæ ·çš„æ–‡ä»¶ï¼Œé€šè¿‡ ln åˆ›å»ºçš„é“¾æ¥ï¼ˆlinkï¼‰å‡å°‘ç£ç›˜å ç”¨é‡ã€‚ é“¾æ¥åˆ†ç±»ï¼šè½¯ä»¶é“¾æ¥åŠç¡¬é“¾æ¥ è½¯é“¾æ¥ï¼š 1.è½¯é“¾æ¥ï¼Œä»¥è·¯å¾„çš„å½¢å¼å­˜åœ¨ã€‚ç±»ä¼¼äºWindowsæ“ä½œç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼2.è½¯é“¾æ¥å¯ä»¥ è·¨æ–‡ä»¶ç³»ç»Ÿ ï¼Œç¡¬é“¾æ¥ä¸å¯ä»¥3.è½¯é“¾æ¥å¯ä»¥å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶åè¿›è¡Œé“¾æ¥4.è½¯é“¾æ¥å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé“¾æ¥ ç¡¬é“¾æ¥: 1.ç¡¬é“¾æ¥ï¼Œä»¥æ–‡ä»¶å‰¯æœ¬çš„å½¢å¼å­˜åœ¨ã€‚ä½†ä¸å ç”¨å®é™…ç©ºé—´ã€‚2.ä¸å…è®¸ç»™ç›®å½•åˆ›å»ºç¡¬é“¾æ¥3.ç¡¬é“¾æ¥åªæœ‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­æ‰èƒ½åˆ›å»º éœ€è¦æ³¨æ„ï¼š 1.ï¼šlnå‘½ä»¤ä¼šä¿æŒæ¯ä¸€å¤„é“¾æ¥æ–‡ä»¶çš„åŒæ­¥æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è®ºä½ æ”¹åŠ¨äº†å“ªä¸€å¤„ï¼Œå…¶å®ƒçš„æ–‡ä»¶éƒ½ä¼šå‘ç”Ÿç›¸åŒçš„å˜åŒ–ï¼›2.ï¼šlnçš„é“¾æ¥åˆåˆ†è½¯é“¾æ¥å’Œç¡¬é“¾æ¥ä¸¤ç§ï¼Œè½¯é“¾æ¥å°±æ˜¯ln â€“s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ï¼Œå®ƒåªä¼šåœ¨ä½ é€‰å®šçš„ä½ç½®ä¸Šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶çš„é•œåƒï¼Œä¸ä¼šå ç”¨ç£ç›˜ç©ºé—´ï¼Œç¡¬é“¾æ¥ ln æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ï¼Œæ²¡æœ‰å‚æ•°-sï¼Œ å®ƒä¼šåœ¨ä½ é€‰å®šçš„ä½ç½®ä¸Šç”Ÿæˆä¸€ä¸ªå’Œæºæ–‡ä»¶å¤§å°ç›¸åŒçš„æ–‡ä»¶ï¼Œæ— è®ºæ˜¯è½¯é“¾æ¥è¿˜æ˜¯ç¡¬é“¾æ¥ï¼Œæ–‡ä»¶éƒ½ä¿æŒåŒæ­¥å˜åŒ–ã€‚3.ï¼šlnæŒ‡ä»¤ç”¨åœ¨é“¾æ¥æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚åŒæ—¶æŒ‡å®šä¸¤ä¸ªä»¥ä¸Šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”æœ€åçš„ç›®çš„åœ°æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šæŠŠå‰é¢æŒ‡å®šçš„æ‰€æœ‰æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ã€‚è‹¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸”æœ€åçš„ç›®çš„åœ°å¹¶éæ˜¯ä¸€ä¸ªå·²å­˜åœ¨çš„ç›®å½•ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯ã€‚ å¸¸ç”¨å‚æ•°ï¼š 123-b åˆ é™¤ï¼Œè¦†ç›–ä»¥å‰å»ºç«‹çš„é“¾æ¥-s è½¯é“¾æ¥ï¼ˆç¬¦å·é“¾æ¥ï¼‰-v æ˜¾ç¤ºè¯¦ç»†å¤„ç†è¿‡ç¨‹ å®ä¾‹ï¼š ï¼ˆ1ï¼‰ç»™æ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥ï¼Œå¹¶æ˜¾ç¤ºæ“ä½œä¿¡æ¯ 1ln -sv source.log link.log ï¼ˆ2ï¼‰ç»™æ–‡ä»¶åˆ›å»ºç¡¬é“¾æ¥ï¼Œå¹¶æ˜¾ç¤ºæ“ä½œä¿¡æ¯ 1ln -v source.log link1.log ï¼ˆ3ï¼‰ç»™ç›®å½•åˆ›å»ºè½¯é“¾æ¥ 1ln -sv /opt/soft/test/test3 /opt/soft/test/test5 date å‘½ä»¤æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸä¸æ—¶é—´ã€‚ å‘½ä»¤å‚æ•°ï¼š 123456789101112131415-d&lt;å­—ç¬¦ä¸²&gt; æ˜¾ç¤ºå­—ç¬¦ä¸²æ‰€æŒ‡çš„æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å·ã€‚-s&lt;å­—ç¬¦ä¸²&gt; æ ¹æ®å­—ç¬¦ä¸²æ¥è®¾ç½®æ—¥æœŸä¸æ—¶é—´ã€‚å­—ç¬¦ä¸²å‰åå¿…é¡»åŠ ä¸ŠåŒå¼•å·ã€‚-u æ˜¾ç¤ºGMTã€‚%H å°æ—¶(00-23)%I å°æ—¶(00-12)%M åˆ†é’Ÿ(ä»¥00-59æ¥è¡¨ç¤º)%s æ€»ç§’æ•°ã€‚èµ·ç®—æ—¶é—´ä¸º1970-01-01 00:00:00 UTCã€‚%S ç§’(ä»¥æœ¬åœ°çš„æƒ¯ç”¨æ³•æ¥è¡¨ç¤º)%a æ˜ŸæœŸçš„ç¼©å†™ã€‚%A æ˜ŸæœŸçš„å®Œæ•´åç§°ã€‚%d æ—¥æœŸ(ä»¥01-31æ¥è¡¨ç¤º)ã€‚%D æ—¥æœŸ(å«å¹´æœˆæ—¥)ã€‚%m æœˆä»½(ä»¥01-12æ¥è¡¨ç¤º)ã€‚%y å¹´ä»½(ä»¥00-99æ¥è¡¨ç¤º)ã€‚%Y å¹´ä»½(ä»¥å››ä½æ•°æ¥è¡¨ç¤º)ã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºä¸‹ä¸€å¤© 1date +%Y%m%d --date=&quot;+1 day&quot; //æ˜¾ç¤ºä¸‹ä¸€å¤©çš„æ—¥æœŸ ï¼ˆ2ï¼‰-då‚æ•°ä½¿ç”¨ 1234567date -d &quot;nov 22&quot; ä»Šå¹´çš„ 11 æœˆ 22 æ—¥æ˜¯æ˜ŸæœŸä¸‰date -d '2 weeks' 2å‘¨åçš„æ—¥æœŸdate -d 'next monday' (ä¸‹å‘¨ä¸€çš„æ—¥æœŸ)date -d next-day +%Y%m%dï¼ˆæ˜å¤©çš„æ—¥æœŸï¼‰æˆ–è€…ï¼šdate -d tomorrow +%Y%m%ddate -d last-day +%Y%m%d(æ˜¨å¤©çš„æ—¥æœŸ) æˆ–è€…ï¼šdate -d yesterday +%Y%m%ddate -d last-month +%Y%m(ä¸Šä¸ªæœˆæ˜¯å‡ æœˆ)date -d next-month +%Y%m(ä¸‹ä¸ªæœˆæ˜¯å‡ æœˆ) cal å‘½ä»¤å¯ä»¥ç”¨æˆ·æ˜¾ç¤ºå…¬å†ï¼ˆé˜³å†ï¼‰æ—¥å†å¦‚åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºå¹´ä»½(1-9999)ï¼Œå¦‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºæœˆä»½å’Œå¹´ä»½ï¼š å¸¸ç”¨å‚æ•°ï¼š 1234-3 æ˜¾ç¤ºå‰ä¸€æœˆï¼Œå½“å‰æœˆï¼Œåä¸€æœˆä¸‰ä¸ªæœˆçš„æ—¥å†-m æ˜¾ç¤ºæ˜ŸæœŸä¸€ä¸ºç¬¬ä¸€åˆ—-j æ˜¾ç¤ºåœ¨å½“å‰å¹´ç¬¬å‡ å¤©-y [year]æ˜¾ç¤ºå½“å‰å¹´[year]ä»½çš„æ—¥å† å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºæŒ‡å®šå¹´æœˆæ—¥æœŸ 1cal 9 2012 ï¼ˆ2ï¼‰æ˜¾ç¤º2013å¹´æ¯ä¸ªæœˆæ—¥å† 1cal -y 2013 ï¼ˆ3ï¼‰å°†æ˜ŸæœŸä¸€åšä¸ºç¬¬ä¸€åˆ—,æ˜¾ç¤ºå‰ä¸­åä¸‰æœˆ 1cal -3m grep å‘½ä»¤å¼ºå¤§çš„æ–‡æœ¬æœç´¢å‘½ä»¤ï¼Œgrep(Global Regular Expression Print) å…¨å±€æ­£åˆ™è¡¨è¾¾å¼æœç´¢ã€‚grep çš„å·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„ï¼Œå®ƒåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²æ¨¡æ¿ã€‚å¦‚æœæ¨¡æ¿åŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ™å¿…é¡»è¢«å¼•ç”¨ï¼Œæ¨¡æ¿åçš„æ‰€æœ‰å­—ç¬¦ä¸²è¢«çœ‹ä½œæ–‡ä»¶åã€‚æœç´¢çš„ç»“æœè¢«é€åˆ°æ ‡å‡†è¾“å‡ºï¼Œä¸å½±å“åŸæ–‡ä»¶å†…å®¹ã€‚å‘½ä»¤æ ¼å¼ï¼š 1grep [option] pattern file|dir å¸¸ç”¨å‚æ•°ï¼š 123456789-A n --after-contextæ˜¾ç¤ºåŒ¹é…å­—ç¬¦ånè¡Œ-B n --before-contextæ˜¾ç¤ºåŒ¹é…å­—ç¬¦å‰nè¡Œ-C n --context æ˜¾ç¤ºåŒ¹é…å­—ç¬¦å‰ånè¡Œ-c --count è®¡ç®—ç¬¦åˆæ ·å¼çš„åˆ—æ•°-i å¿½ç•¥å¤§å°å†™-l åªåˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„æ ·å¼çš„æ–‡ä»¶åç§°-f ä»æ–‡ä»¶ä¸­è¯»å–å…³é”®è¯-n æ˜¾ç¤ºåŒ¹é…å†…å®¹çš„æ‰€åœ¨æ–‡ä»¶ä¸­è¡Œæ•°-R é€’å½’æŸ¥æ‰¾æ–‡ä»¶å¤¹ grep çš„è§„åˆ™è¡¨è¾¾å¼: 12345678910111213141516^ #é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š'^grep'åŒ¹é…æ‰€æœ‰ä»¥grepå¼€å¤´çš„è¡Œã€‚ $ #é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š'grep$'åŒ¹é…æ‰€æœ‰ä»¥grepç»“å°¾çš„è¡Œã€‚ . #åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š'gr.p'åŒ¹é…gråæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ * #åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå…ˆå‰å­—ç¬¦ å¦‚ï¼š'*grep'åŒ¹é…æ‰€æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿgrepçš„è¡Œã€‚.* #ä¸€èµ·ç”¨ä»£è¡¨ä»»æ„å­—ç¬¦ã€‚ [] #åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚'[Gg]rep'åŒ¹é…Grepå’Œgrepã€‚ [^] #åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š'[^A-FH-Z]rep'åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿrepçš„è¡Œã€‚ \\(..\\) #æ ‡è®°åŒ¹é…å­—ç¬¦ï¼Œå¦‚'\\(love\\)'ï¼Œloveè¢«æ ‡è®°ä¸º1ã€‚ \\&lt; #é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚:'\\&lt;grep'åŒ¹é…åŒ…å«ä»¥grepå¼€å¤´çš„å•è¯çš„è¡Œã€‚\\&gt; #é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚'grep\\&gt;'åŒ¹é…åŒ…å«ä»¥grepç»“å°¾çš„å•è¯çš„è¡Œã€‚x\\{m\\} #é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š'0\\{5\\}'åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚ x\\{m,\\} #é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š'o\\{5,\\}'åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚ x\\{m,n\\} #é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š'o\\{5,10\\}'åŒ¹é…5--10ä¸ªoçš„è¡Œã€‚ \\w #åŒ¹é…æ–‡å­—å’Œæ•°å­—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯[A-Za-z0-9]ï¼Œå¦‚ï¼š'G\\w*p'åŒ¹é…ä»¥Gåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ªæ–‡å­—æˆ–æ•°å­—å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ \\W #\\wçš„åç½®å½¢å¼ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªéå•è¯å­—ç¬¦ï¼Œå¦‚ç‚¹å·å¥å·ç­‰ã€‚ \\b #å•è¯é”å®šç¬¦ï¼Œå¦‚: '\\bgrep\\b'åªåŒ¹é…grepã€‚ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥æ‰¾æŒ‡å®šè¿›ç¨‹ 1ps -ef | grep svn ï¼ˆ2ï¼‰æŸ¥æ‰¾æŒ‡å®šè¿›ç¨‹ä¸ªæ•° 1ps -ef | grep svn -c ï¼ˆ3ï¼‰ä»æ–‡ä»¶ä¸­è¯»å–å…³é”®è¯ 1cat test1.txt | grep -f key.log ï¼ˆ4ï¼‰ä»æ–‡ä»¶å¤¹ä¸­é€’å½’æŸ¥æ‰¾ä»¥grepå¼€å¤´çš„è¡Œï¼Œå¹¶åªåˆ—å‡ºæ–‡ä»¶ 1grep -lR '^grep' /tmp ï¼ˆ5ï¼‰æŸ¥æ‰¾éxå¼€å…³çš„è¡Œå†…å®¹ 1grep '^[^x]' test.txt ï¼ˆ6ï¼‰æ˜¾ç¤ºåŒ…å« ed æˆ–è€… at å­—ç¬¦çš„å†…å®¹è¡Œ 1grep -E 'ed|at' test.txt wc å‘½ä»¤wc(word count)åŠŸèƒ½ä¸ºç»Ÿè®¡æŒ‡å®šçš„æ–‡ä»¶ä¸­å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ï¼Œå¹¶å°†ç»Ÿè®¡ç»“æœè¾“å‡ºå‘½ä»¤æ ¼å¼ï¼š 1wc [option] file.. å‘½ä»¤å‚æ•°ï¼š 1234-c ç»Ÿè®¡å­—èŠ‚æ•°-l ç»Ÿè®¡è¡Œæ•°-m ç»Ÿè®¡å­—ç¬¦æ•°-w ç»Ÿè®¡è¯æ•°ï¼Œä¸€ä¸ªå­—è¢«å®šä¹‰ä¸ºç”±ç©ºç™½ã€è·³æ ¼æˆ–æ¢è¡Œå­—ç¬¦åˆ†éš”çš„å­—ç¬¦ä¸² å®ä¾‹ï¼š ï¼ˆ1ï¼‰æŸ¥æ‰¾æ–‡ä»¶çš„ è¡Œæ•° å•è¯æ•° å­—èŠ‚æ•° æ–‡ä»¶å 1wc text.txt ç»“æœï¼š 17 8 70 test.txt ï¼ˆ2ï¼‰ç»Ÿè®¡è¾“å‡ºç»“æœçš„è¡Œæ•° 1cat test.txt | wc -l ps å‘½ä»¤ps(process status)ï¼Œç”¨æ¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„è¿›ç¨‹çŠ¶æ€ï¼Œä¸€æ¬¡æ€§æŸ¥çœ‹ï¼Œå¦‚æœéœ€è¦åŠ¨æ€è¿ç»­ç»“æœä½¿ç”¨ toplinuxä¸Šè¿›ç¨‹æœ‰5ç§çŠ¶æ€: è¿è¡Œ(æ­£åœ¨è¿è¡Œæˆ–åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…) ä¸­æ–­(ä¼‘çœ ä¸­, å—é˜», åœ¨ç­‰å¾…æŸä¸ªæ¡ä»¶çš„å½¢æˆæˆ–æ¥å—åˆ°ä¿¡å·) ä¸å¯ä¸­æ–­(æ”¶åˆ°ä¿¡å·ä¸å”¤é†’å’Œä¸å¯è¿è¡Œ, è¿›ç¨‹å¿…é¡»ç­‰å¾…ç›´åˆ°æœ‰ä¸­æ–­å‘ç”Ÿ) åƒµæ­»(è¿›ç¨‹å·²ç»ˆæ­¢, ä½†è¿›ç¨‹æè¿°ç¬¦å­˜åœ¨, ç›´åˆ°çˆ¶è¿›ç¨‹è°ƒç”¨wait4()ç³»ç»Ÿè°ƒç”¨åé‡Šæ”¾) åœæ­¢(è¿›ç¨‹æ”¶åˆ°SIGSTOP, SIGSTP, SIGTIN, SIGTOUä¿¡å·ååœæ­¢è¿è¡Œè¿è¡Œ)ps å·¥å…·æ ‡è¯†è¿›ç¨‹çš„5ç§çŠ¶æ€ç : 12345D ä¸å¯ä¸­æ–­ uninterruptible sleep (usually IO)R è¿è¡Œ runnable (on run queue)S ä¸­æ–­ sleepingT åœæ­¢ traced or stoppedZ åƒµæ­» a defunct (â€zombieâ€) process å‘½ä»¤å‚æ•°ï¼š 12345678-A æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹a æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹-a æ˜¾ç¤ºåŒä¸€ç»ˆç«¯ä¸‹æ‰€æœ‰è¿›ç¨‹c æ˜¾ç¤ºè¿›ç¨‹çœŸå®åç§°e æ˜¾ç¤ºç¯å¢ƒå˜é‡f æ˜¾ç¤ºè¿›ç¨‹é—´çš„å…³ç³»r æ˜¾ç¤ºå½“å‰ç»ˆç«¯è¿è¡Œçš„è¿›ç¨‹-aux æ˜¾ç¤ºæ‰€æœ‰åŒ…å«å…¶å®ƒä½¿ç”¨çš„è¿›ç¨‹ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºå½“å‰æ‰€æœ‰è¿›ç¨‹ç¯å¢ƒå˜é‡åŠè¿›ç¨‹é—´å…³ç³» 1ps -ef ï¼ˆ2ï¼‰æ˜¾ç¤ºå½“å‰æ‰€æœ‰è¿›ç¨‹ 1ps -A ï¼ˆ3ï¼‰ä¸grepè”ç”¨æŸ¥æ‰¾æŸè¿›ç¨‹ 1ps -aux | grep apache ï¼ˆ4ï¼‰æ‰¾å‡ºä¸ cron ä¸ syslog è¿™ä¸¤ä¸ªæœåŠ¡æœ‰å…³çš„ PID å·ç  1ps aux | grep '(cron|syslog)' top å‘½ä»¤æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹ IDã€å†…å­˜å ç”¨ç‡ã€CPU å ç”¨ç‡ç­‰ å¸¸ç”¨å‚æ•°ï¼š 1234-c æ˜¾ç¤ºå®Œæ•´çš„è¿›ç¨‹å‘½ä»¤-s ä¿å¯†æ¨¡å¼-p &lt;è¿›ç¨‹å·&gt; æŒ‡å®šè¿›ç¨‹æ˜¾ç¤º-n &lt;æ¬¡æ•°&gt;å¾ªç¯æ˜¾ç¤ºæ¬¡æ•° å®ä¾‹ï¼š 1234567top - 14:06:23 up 70 days, 16:44, 2 users, load average: 1.25, 1.32, 1.35Tasks: 206 total, 1 running, 205 sleeping, 0 stopped, 0 zombieCpu(s): 5.9%us, 3.4%sy, 0.0%ni, 90.4%id, 0.0%wa, 0.0%hi, 0.2%si, 0.0%stMem: 32949016k total, 14411180k used, 18537836k free, 169884k buffersSwap: 32764556k total, 0k used, 32764556k free, 3612636k cachedPID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 28894 root 22 0 1501m 405m 10m S 52.2 1.3 2534:16 java å‰äº”è¡Œæ˜¯å½“å‰ç³»ç»Ÿæƒ…å†µæ•´ä½“çš„ç»Ÿè®¡ä¿¡æ¯åŒºã€‚ ç¬¬ä¸€è¡Œï¼Œä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯ï¼ŒåŒ uptime å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œå…·ä½“å‚æ•°è¯´æ˜æƒ…å†µå¦‚ä¸‹ï¼š 14:06:23 â€” å½“å‰ç³»ç»Ÿæ—¶é—´ up 70 days, 16:44 â€” ç³»ç»Ÿå·²ç»è¿è¡Œäº†70å¤©16å°æ—¶44åˆ†é’Ÿï¼ˆåœ¨è¿™æœŸé—´ç³»ç»Ÿæ²¡æœ‰é‡å¯è¿‡çš„å†ï¼ï¼‰ 2 users â€” å½“å‰æœ‰2ä¸ªç”¨æˆ·ç™»å½•ç³»ç»Ÿ load average: 1.15, 1.42, 1.44 â€” load averageåé¢çš„ä¸‰ä¸ªæ•°åˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿçš„è´Ÿè½½æƒ…å†µã€‚ load averageæ•°æ®æ˜¯æ¯éš”5ç§’é’Ÿæ£€æŸ¥ä¸€æ¬¡æ´»è·ƒçš„è¿›ç¨‹æ•°ï¼Œç„¶åæŒ‰ç‰¹å®šç®—æ³•è®¡ç®—å‡ºçš„æ•°å€¼ã€‚å¦‚æœè¿™ä¸ªæ•°é™¤ä»¥é€»è¾‘CPUçš„æ•°é‡ï¼Œç»“æœé«˜äº5çš„æ—¶å€™å°±è¡¨æ˜ç³»ç»Ÿåœ¨è¶…è´Ÿè·è¿è½¬äº†ã€‚ ç¬¬äºŒè¡Œï¼ŒTasks â€” ä»»åŠ¡ï¼ˆè¿›ç¨‹ï¼‰ï¼Œå…·ä½“ä¿¡æ¯è¯´æ˜å¦‚ä¸‹ï¼š ç³»ç»Ÿç°åœ¨å…±æœ‰206ä¸ªè¿›ç¨‹ï¼Œå…¶ä¸­å¤„äºè¿è¡Œä¸­çš„æœ‰1ä¸ªï¼Œ205ä¸ªåœ¨ä¼‘çœ ï¼ˆsleepï¼‰ï¼ŒstopedçŠ¶æ€çš„æœ‰0ä¸ªï¼ŒzombieçŠ¶æ€ï¼ˆåƒµå°¸ï¼‰çš„æœ‰0ä¸ªã€‚ ç¬¬ä¸‰è¡Œï¼ŒcpuçŠ¶æ€ä¿¡æ¯ï¼Œå…·ä½“å±æ€§è¯´æ˜å¦‚ä¸‹ï¼š 12345675.9%us â€” ç”¨æˆ·ç©ºé—´å ç”¨CPUçš„ç™¾åˆ†æ¯”ã€‚3.4% sy â€” å†…æ ¸ç©ºé—´å ç”¨CPUçš„ç™¾åˆ†æ¯”ã€‚0.0% ni â€” æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”90.4% id â€” ç©ºé—²CPUç™¾åˆ†æ¯”0.0% wa â€” IOç­‰å¾…å ç”¨CPUçš„ç™¾åˆ†æ¯”0.0% hi â€” ç¡¬ä¸­æ–­ï¼ˆHardware IRQï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯”0.2% si â€” è½¯ä¸­æ–­ï¼ˆSoftware Interruptsï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯” å¤‡æ³¨ï¼šåœ¨è¿™é‡ŒCPUçš„ä½¿ç”¨æ¯”ç‡å’Œwindowsæ¦‚å¿µä¸åŒï¼Œéœ€è¦ç†è§£linuxç³»ç»Ÿç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´çš„ç›¸å…³çŸ¥è¯†ï¼ ç¬¬å››è¡Œï¼Œå†…å­˜çŠ¶æ€ï¼Œå…·ä½“ä¿¡æ¯å¦‚ä¸‹ï¼š 123432949016k total â€” ç‰©ç†å†…å­˜æ€»é‡ï¼ˆ32GBï¼‰14411180k used â€” ä½¿ç”¨ä¸­çš„å†…å­˜æ€»é‡ï¼ˆ14GBï¼‰18537836k free â€” ç©ºé—²å†…å­˜æ€»é‡ï¼ˆ18GBï¼‰169884k buffers â€” ç¼“å­˜çš„å†…å­˜é‡ ï¼ˆ169Mï¼‰ ç¬¬äº”è¡Œï¼Œswapäº¤æ¢åˆ†åŒºä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯è¯´æ˜å¦‚ä¸‹ï¼š 123432764556k total â€” äº¤æ¢åŒºæ€»é‡ï¼ˆ32GBï¼‰0k used â€” ä½¿ç”¨çš„äº¤æ¢åŒºæ€»é‡ï¼ˆ0Kï¼‰32764556k free â€” ç©ºé—²äº¤æ¢åŒºæ€»é‡ï¼ˆ32GBï¼‰3612636k cached â€” ç¼“å†²çš„äº¤æ¢åŒºæ€»é‡ï¼ˆ3.6GBï¼‰ ç¬¬å…­è¡Œï¼Œç©ºè¡Œã€‚ ç¬¬ä¸ƒè¡Œä»¥ä¸‹ï¼šå„è¿›ç¨‹ï¼ˆä»»åŠ¡ï¼‰çš„çŠ¶æ€ç›‘æ§ï¼Œé¡¹ç›®åˆ—ä¿¡æ¯è¯´æ˜å¦‚ä¸‹ï¼š 123456789101112PID â€” è¿›ç¨‹idUSER â€” è¿›ç¨‹æ‰€æœ‰è€…PR â€” è¿›ç¨‹ä¼˜å…ˆçº§NI â€” niceå€¼ã€‚è´Ÿå€¼è¡¨ç¤ºé«˜ä¼˜å…ˆçº§ï¼Œæ­£å€¼è¡¨ç¤ºä½ä¼˜å…ˆçº§VIRT â€” è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ï¼Œå•ä½kbã€‚VIRT=SWAP+RESRES â€” è¿›ç¨‹ä½¿ç”¨çš„ã€æœªè¢«æ¢å‡ºçš„ç‰©ç†å†…å­˜å¤§å°ï¼Œå•ä½kbã€‚RES=CODE+DATASHR â€” å…±äº«å†…å­˜å¤§å°ï¼Œå•ä½kbS â€” è¿›ç¨‹çŠ¶æ€ã€‚D=ä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ R=è¿è¡Œ S=ç¡çœ  T=è·Ÿè¸ª/åœæ­¢ Z=åƒµå°¸è¿›ç¨‹%CPU â€” ä¸Šæ¬¡æ›´æ–°åˆ°ç°åœ¨çš„CPUæ—¶é—´å ç”¨ç™¾åˆ†æ¯”%MEM â€” è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜ç™¾åˆ†æ¯”TIME+ â€” è¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ€»è®¡ï¼Œå•ä½1/100ç§’COMMAND â€” è¿›ç¨‹åç§°ï¼ˆå‘½ä»¤å/å‘½ä»¤è¡Œï¼‰ top äº¤äº’å‘½ä»¤ 1234567h æ˜¾ç¤ºtopäº¤äº’å‘½ä»¤å¸®åŠ©ä¿¡æ¯c åˆ‡æ¢æ˜¾ç¤ºå‘½ä»¤åç§°å’Œå®Œæ•´å‘½ä»¤è¡Œm ä»¥å†…å­˜ä½¿ç”¨ç‡æ’åºP æ ¹æ®CPUä½¿ç”¨ç™¾åˆ†æ¯”å¤§å°è¿›è¡Œæ’åºT æ ¹æ®æ—¶é—´/ç´¯è®¡æ—¶é—´è¿›è¡Œæ’åºW å°†å½“å‰è®¾ç½®å†™å…¥~/.toprcæ–‡ä»¶ä¸­oæˆ–è€…O æ”¹å˜æ˜¾ç¤ºé¡¹ç›®çš„é¡ºåº kill å‘½ä»¤å‘é€æŒ‡å®šçš„ä¿¡å·åˆ°ç›¸åº”è¿›ç¨‹ã€‚ä¸æŒ‡å®šå‹å·å°†å‘é€SIGTERMï¼ˆ15ï¼‰ç»ˆæ­¢æŒ‡å®šè¿›ç¨‹ã€‚å¦‚æœä»»æ— æ³•ç»ˆæ­¢è¯¥ç¨‹åºå¯ç”¨â€-KILLâ€ å‚æ•°ï¼Œå…¶å‘é€çš„ä¿¡å·ä¸ºSIGKILL(9) ï¼Œå°†å¼ºåˆ¶ç»“æŸè¿›ç¨‹ï¼Œä½¿ç”¨pså‘½ä»¤æˆ–è€…jobs å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿›ç¨‹å·ã€‚rootç”¨æˆ·å°†å½±å“ç”¨æˆ·çš„è¿›ç¨‹ï¼Œérootç”¨æˆ·åªèƒ½å½±å“è‡ªå·±çš„è¿›ç¨‹ã€‚ å¸¸ç”¨å‚æ•°ï¼š 12345-l ä¿¡å·ï¼Œè‹¥æœä¸åŠ ä¿¡å·çš„ç¼–å·å‚æ•°ï¼Œåˆ™ä½¿ç”¨â€œ-lâ€å‚æ•°ä¼šåˆ—å‡ºå…¨éƒ¨çš„ä¿¡å·åç§°-a å½“å¤„ç†å½“å‰è¿›ç¨‹æ—¶ï¼Œä¸é™åˆ¶å‘½ä»¤åå’Œè¿›ç¨‹å·çš„å¯¹åº”å…³ç³»-p æŒ‡å®škill å‘½ä»¤åªæ‰“å°ç›¸å…³è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œè€Œä¸å‘é€ä»»ä½•ä¿¡å·-s æŒ‡å®šå‘é€ä¿¡å·-u æŒ‡å®šç”¨æˆ· å®ä¾‹ï¼š ï¼ˆ1ï¼‰å…ˆä½¿ç”¨psæŸ¥æ‰¾è¿›ç¨‹pro1ï¼Œç„¶åç”¨killæ€æ‰ 1kill -9 $(ps -ef | grep pro1) free å‘½ä»¤æ˜¾ç¤ºç³»ç»Ÿå†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬ç‰©ç†å†…å­˜ã€äº¤äº’åŒºå†…å­˜(swap)å’Œå†…æ ¸ç¼“å†²åŒºå†…å­˜ã€‚ å‘½ä»¤å‚æ•°ï¼š 123456-b ä»¥Byteæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ-k ä»¥kbä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ-m ä»¥mbä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ-g ä»¥gbä¸ºå•ä½æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ-s&lt;é—´éš”ç§’æ•°&gt; æŒç»­æ˜¾ç¤ºå†…å­˜-t æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æ€»åˆ å®ä¾‹ï¼š ï¼ˆ1ï¼‰æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ 123freefree -kfree -m ï¼ˆ2ï¼‰ä»¥æ€»å’Œçš„å½¢å¼æ˜¾ç¤ºå†…å­˜çš„ä½¿ç”¨ä¿¡æ¯ 1free -t ï¼ˆ3ï¼‰å‘¨æœŸæ€§æŸ¥è¯¢å†…å­˜ä½¿ç”¨æƒ…å†µ 1free -s 10","link":"/posts/undefined.html"},{"title":"åŸºäºC++çš„å­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ","text":"é¡¹ç›®åç§°ï¼šå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ å¼€å‘æŠ€æœ¯ï¼šC++ï¼ŒSQLite3 é¡¹ç›®æè¿°ï¼šä½¿ç”¨C++ç¨‹åºè°ƒç”¨sqlite3æ•°æ®åº“ï¼Œå¹¶é€šè¿‡æ•°æ®åº“çš„æ“ä½œå¯¹å­¦ç”Ÿå’Œè¯¾ç¨‹è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬è¯¾ç¨‹çš„å¢åˆ æ”¹æŸ¥ï¼Œå­¦ç”Ÿçš„å¢åˆ æ”¹æŸ¥ã€‚ç¨‹åºå…¥å£åˆ†ä¸ºä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç®¡ç†å‘˜å…¥å£ï¼ˆç®¡ç†å‘˜æ— æ³•æ³¨å†Œï¼‰ç®¡ç†å‘˜å¯ä»¥å¯¹è¯¾ç¨‹ä»¥åŠå­¦ç”Ÿç”¨æˆ·è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œã€‚å¦ä¸€ä¸ªå…¥å£æ˜¯å­¦ç”Ÿå…¥å£ï¼ˆç®¡ç†å‘˜æ¥å¯¹å­¦ç”Ÿè¿›è¡Œæ³¨å†Œï¼‰ï¼Œå­¦ç”Ÿå¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç ä»¥åŠè¿›è¡Œé€‰è¯¾é€€è¯¾ç­‰æ“ä½œã€‚ å®Œæ•´ä»£ç ï¼šå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ éƒ¨åˆ†ä»£ç ï¼šadmin.h12345678910111213141516171819202122232425262728#pragma once#include &lt;iostream&gt;#include &lt;string&gt;#include&lt;vector&gt;#include &quot;sqlite.h&quot;#include &quot;course.h&quot;#include &quot;student.h&quot;using namespace std;class admin{public: int login(sqlite&amp; db); void add_course(sqlite&amp; db); void delete_course(sqlite&amp; db); void change_course(sqlite&amp; db); void show_course(sqlite&amp; db, vector &lt;string&gt;&amp; v); void add_student(sqlite&amp; db); void delete_student(sqlite&amp; db); void change_student(sqlite&amp; db); void show_student(sqlite&amp; db, vector &lt;string&gt;&amp; v);private: string name; string pwd;}; admin.cpp1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &quot;admin.h&quot;int admin::login(sqlite&amp; db){ cout &lt;&lt; &quot;---------------ç®¡ç†å‘˜ç™»å½•é¡µé¢---------------&quot; &lt;&lt; endl; cout &lt;&lt; &quot;è¯·è¾“å…¥ç”¨æˆ·åï¼š&quot;; cin &gt;&gt; name; cout &lt;&lt; &quot;è¯·è¾“å…¥å¯†ç ï¼š&quot;; cin &gt;&gt; pwd; char sql[1024] = { 0 }; sprintf_s(sql, &quot;select *from admin where name= '%s' and pwd='%s'&quot;, name.data(), pwd.data()); db.login(sql); int a = 0; return 0;}void admin::add_course(sqlite&amp; db){ course _course; _course.cou_info(); _course.cou_insert_into_table(db);}void admin::delete_course(sqlite&amp; db){ course _course; _course.cou_del_info(); _course.cou_remove_from_table(db);}void admin::change_course(sqlite&amp; db){ course _course; _course.cou_che_info(); _course.cou_modify_table(db);}void admin::show_course(sqlite&amp; db, vector &lt;string&gt;&amp; v){ course _course; _course.cou_show_table(db, v);}void admin::add_student(sqlite&amp; db){ student _student; _student.stu_info(); _student.stu_insert_into_table(db);}void admin::delete_student(sqlite&amp; db){ student _student; _student.stu_del_info(); _student.stu_remove_from_table(db);}void admin::change_student(sqlite&amp; db){ student _student; _student.stu_che_info(); _student.stu_modify_table(db);}void admin::show_student(sqlite&amp; db, vector&lt;string&gt;&amp; v){ student _student; _student.stu_show_table(db, v);} main.h12345678#pragma once#include &quot;admin.h&quot;#include &quot;table.h&quot;#include &quot;menu.h&quot;#include &quot;student.h&quot;#include &quot;choose.h&quot;#include &quot;course.h&quot;#include&quot;sqlite.h&quot; main.cpp123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141#include &quot;main.h&quot;int main(){ sqlite db; db.initdb(); table fac; fac.create_course(db); //è¯¾ç¨‹è¡¨ fac.create_student(db); //å­¦ç”Ÿè¡¨ fac.create_choose(db); //é€‰è¯¾è¡¨ fac.create_admin(db); //ç®¡ç†å‘˜è¡¨ admin root; student stu; menu men; choose cho; int a = 0; int b = 0; while (1) { flag: men.menu1(); int op = 0; cout &lt;&lt; &quot;è¯·è¾“å…¥è¦æ“ä½œçš„é€‰é¡¹&quot; &lt;&lt; endl; cin &gt;&gt; op; if (3 == op) { return 0; } switch (op) { case(1): root.login(db); while (1) { men.menu2(); vector &lt;string&gt; v; int op = 0; cout &lt;&lt; &quot;è¯·è¾“å…¥è¦æ“ä½œçš„é€‰é¡¹&quot; &lt;&lt; endl; cin &gt;&gt; op; if (10 == op) { return 0; } switch (op) { case(1): root.add_course(db); break; case(2): root.change_course(db); break; case(3): root.delete_course(db); break; case(4): v.clear(); root.show_course(db, v); break; case(5): root.add_student(db); break; case(6): root.change_student(db); break; case(7): root.delete_student(db); break; case(8): v.clear(); root.show_student(db, v); break; case(9): goto flag; break; default: cout &lt;&lt; &quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°é€‰æ‹©&quot; &lt;&lt; endl; break; } } case(2): stu.stu_login(db); while(1) { men.menu3(); vector &lt;string&gt; v; int op = 0; cout &lt;&lt; &quot;è¯·è¾“å…¥è¦æ“ä½œçš„é€‰é¡¹&quot; &lt;&lt; endl; cin &gt;&gt; op; if (7 == op) { return 0; } switch (op) { case(1): stu.change_pwd(db); break; case(2): v.clear(); root.show_course(db, v); cho.choose_insert(db); break; case(3): cho.choose_del(db); break; case(4): cho.choose_show(db); break; case(5): v.clear(); root.show_course(db,v); break; case(6): goto flag; break; default: cout &lt;&lt; &quot;è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°é€‰æ‹©&quot; &lt;&lt; endl; break; } } } } //cho.choose_show(db); //stu.stu_login(db); //root.login(); //root.add_course(db); //root.add_student(db); //root.change_course(db); //root.change_student(db); //root.delete_course(db); //root.delete_student(db); //vector &lt;string&gt; v; //root.show_course(db,v); //v.clear(); //root.show_student(db,v); return 0;}","link":"/posts/undefined.html"}],"tags":[{"name":"C","slug":"C","link":"/tags/C/"},{"name":"Bttterfly","slug":"Bttterfly","link":"/tags/Bttterfly/"},{"name":"Shell","slug":"Shell","link":"/tags/Shell/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"C++","slug":"C","link":"/tags/C/"}],"categories":[{"name":"Cè¯­è¨€","slug":"Cè¯­è¨€","link":"/categories/C%E8%AF%AD%E8%A8%80/"},{"name":"Hexo","slug":"Hexo","link":"/categories/Hexo/"},{"name":"Linux","slug":"Linux","link":"/categories/Linux/"},{"name":"C++","slug":"C","link":"/categories/C/"}],"pages":[{"title":"å…³äº","text":"è¿˜æ²¡æœ‰æƒ³å¥½æ€ä¹ˆå†™","link":"/about/index.html"},{"title":"å‹æƒ…é“¾æ¥","text":"è¿˜æ²¡æœ‰æƒ³å¥½æ€ä¹ˆå†™","link":"/friends/index.html"},{"title":"ç•™è¨€æ¿","text":"æœ‰ä»€ä¹ˆæƒ³è¯´çš„å°±å†™ä¸‹æ¥å§â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€","link":"/messages/index.html"},{"title":"","text":"/*! For license information please see twikoo.all.min.js.LICENSE.txt */ var e,t;e=this,t=function(){return function(){var e={3485:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(8190);Object.keys(r).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(9565);Object.keys(i).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},8190:function(e,t){\"use strict\";var n;Object.defineProperty(t,\"__esModule\",{value:!0}),t.StorageType=t.AbstractStorage=t.AbstractSDKRequest=void 0,t.StorageType=n,function(e){e.local=\"local\",e.none=\"none\",e.session=\"session\"}(n||(t.StorageType=n={}));var r=function(){};t.AbstractSDKRequest=r;var i=function(){};t.AbstractStorage=i},9565:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\\?/.test(t),i=\"\";for(var o in n)\"\"===i?!r&&(t+=\"?\"):i+=\"&\",i+=o+\"=\"+encodeURIComponent(n[o]);return/^http(s)?\\:\\/\\//.test(t+=i)?t:\"\"+e+t}},8152:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LOGINTYPE=t.DATA_VERSION=void 0,t.getEndPoint=function(){return{BASE_URL:l,PROTOCOL:c}},t.getSdkName=function(){return s},t.getSdkVersion=function(){return a},t.setEndPoint=d,t.setRegionLevelEndpoint=function(e,t,n){d(t?\"//\"+e+\".\"+t+\".tcb-api.tencentcloudapi.com/web\":\"//\"+e+\".ap-shanghai.tcb-api.tencentcloudapi.com/web\",n)},t.setSdkName=function(e){s=e,i(e)},t.setSdkVersion=function(e){a=e};var r=n(5508),i=r.constants.setSdkName,o=r.constants.setProtocol,a=\"\",s=\"@cloudbase/js-sdk\";t.DATA_VERSION=\"2020-01-10\";var u,c=\"undefined\"!=typeof location&&\"http:\"===location.protocol?\"http:\":\"https:\",l=\"//tcb-api.tencentcloudapi.com/web\";function d(e,t){l=e,t&&(c=t,o(t))}t.LOGINTYPE=u,function(e){e.ANONYMOUS=\"ANONYMOUS\",e.WECHAT=\"WECHAT\",e.CUSTOM=\"CUSTOM\",e.NULL=\"NULL\"}(u||(t.LOGINTYPE=u={}))},6631:function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EVENTS=void 0,t.EVENTS={LOGIN_STATE_CHANGED:\"loginStateChanged\",LOGIN_STATE_EXPIRED:\"loginStateExpire\",LOGIN_TYPE_CHANGED:\"loginTypeChanged\",ANONYMOUS_CONVERTED:\"anonymousConverted\",ACCESS_TOKEN_REFRESHD:\"refreshAccessToken\"}},2183:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"__esModule\",{value:!0}),t[\"default\"]=t.cloudbase=void 0;var i=r(n(9767)),o=n(5508),a=r(n(9636)),s=n(9540),u=n(2341),c=n(6592),l=n(437),d=n(8152),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){if(\"object\"===(\"undefined\"==typeof Reflect?\"undefined\":(0,i[\"default\"])(Reflect))&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r[\"throw\"](e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),\"throw\":s(1),\"return\":s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=2&o[0]?r[\"return\"]:o[0]?r[\"throw\"]||((i=r[\"return\"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join(\"\")},parse:function(e){for(var t=e.length,n=[],r=0;r>>3]|=parseInt(e.substr(r,2),16)2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join(\"\")},parse:function(e){for(var t=e.length,n=[],r=0;r>>2]|=(255&e.charCodeAt(r))>>24-o%4*8&255)>2]>>>24-(o+1)%4*8&255)>2]>>>24-(o+2)%4*8&255,s=0;s>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join(\"\")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o>>2]|=(s|u)19)^m>>>10;c[p]=g+c[p-7]+v+c[p-16]}var _=r&i^r&o^i&o,y=(r>2)^(r>13)^(r>22),b=f+((s>6)^(s>11)^(s>25))+(s&l^~s&d)+u[p]+c[p];f=d,d=l,l=s,s=a+b|0,a=o,o=i,i=r,r=b+(y+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128>9>92&&arguments[2]!==undefined?arguments[2]:null;u||(u=document.createElement(\"textarea\"),document.body.appendChild(u));var r=function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue(\"box-sizing\"),r=parseFloat(t.getPropertyValue(\"padding-bottom\"))+parseFloat(t.getPropertyValue(\"padding-top\")),i=parseFloat(t.getPropertyValue(\"border-bottom-width\"))+parseFloat(t.getPropertyValue(\"border-top-width\"));return{contextStyle:l.map((function(e){return e+\":\"+t.getPropertyValue(e)})).join(\";\"),paddingSize:r,borderSize:i,boxSizing:n}}(e),i=r.paddingSize,o=r.borderSize,a=r.boxSizing,s=r.contextStyle;u.setAttribute(\"style\",s+\";\"+c),u.value=e.value||e.placeholder||\"\";var d=u.scrollHeight,f={};\"border-box\"===a?d+=o:\"content-box\"===a&&(d-=i),u.value=\"\";var p=u.scrollHeight-i;if(null!==t){var h=p*t;\"border-box\"===a&&(h=h+i+o),d=Math.max(h,d),f.minHeight=h+\"px\"}if(null!==n){var g=p*n;\"border-box\"===a&&(g=g+i+o),d=Math.min(g,d)}return f.height=d+\"px\",u.parentNode&&u.parentNode.removeChild(u),u=null,f}var f=n(9),p=n.n(f),h=n(21),g={name:\"ElInput\",componentName:\"ElInput\",mixins:[o.a,s.a],inheritAttrs:!1,inject:{elForm:{\"default\":\"\"},elFormItem:{\"default\":\"\"}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,\"default\":\"text\"},autosize:{type:[Boolean,Object],\"default\":!1},autocomplete:{type:String,\"default\":\"off\"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,\"default\":!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,\"default\":!1},showPassword:{type:Boolean,\"default\":!1},showWordLimit:{type:Boolean,\"default\":!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:\"\"},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:\"el-icon-loading\",success:\"el-icon-circle-check\",error:\"el-icon-circle-close\"}[this.validateState]},textareaStyle:function(){return p()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||this.value===undefined?\"\":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&(\"text\"===this.type||\"textarea\"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return\"number\"==typeof this.value?String(this.value).length:(this.value||\"\").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch(\"ElFormItem\",\"el.form.change\",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:\"icon is removed, use suffix-icon / prefix-icon instead.\",\"on-icon-click\":\"on-icon-click is removed.\"},events:{click:\"click is removed.\"}}},handleBlur:function(e){this.focused=!1,this.$emit(\"blur\",e),this.validateEvent&&this.dispatch(\"ElFormItem\",\"el.form.blur\",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if(\"textarea\"===this.type)if(e){var t=e.minRows,n=e.maxRows;this.textareaCalcStyle=d(this.$refs.textarea,t,n)}else this.textareaCalcStyle={minHeight:d(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit(\"focus\",e)},handleCompositionStart:function(e){this.$emit(\"compositionstart\",e),this.isComposing=!0},handleCompositionUpdate:function(e){this.$emit(\"compositionupdate\",e);var t=e.target.value,n=t[t.length-1]||\"\";this.isComposing=!Object(h.isKorean)(n)},handleCompositionEnd:function(e){this.$emit(\"compositionend\",e),this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit(\"input\",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit(\"change\",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(\".el-input__\"+e)||[]);if(t.length){for(var n=null,r=0;r0&&arguments[0]!==undefined?arguments[0]:{};if(!i.a.prototype.$isServer){if(\"string\"==typeof(e=_()({},b,e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&k)return k;var t=e.body?document.body:e.target,n=new y({el:document.createElement(\"div\"),data:e});return w(e,t,n),\"absolute\"!==n.originalPosition&&\"fixed\"!==n.originalPosition&&\"sticky\"!==n.originalPosition&&Object(l.addClass)(t,\"el-loading-parent--relative\"),e.fullscreen&&e.lock&&Object(l.addClass)(t,\"el-loading-parent--hidden\"),t.appendChild(n.$el),i.a.nextTick((function(){n.visible=!0})),e.fullscreen&&(k=n),n}};t[\"default\"]={install:function(e){e.use(m),e.prototype.$loading=E},directive:m,service:E}},9:function(e,t){e.exports=n(7002)}})},6262:function(e,t){\"use strict\";function n(e,t,r){this.$children.forEach((function(i){i.$options.componentName===e?i.$emit.apply(i,[t].concat(r)):n.apply(i,[e,t].concat([r]))}))}t.__esModule=!0,t[\"default\"]={methods:{dispatch:function(e,t,n){for(var r=this.$parent||this.$root,i=r.$options.componentName;r&&(!i||i!==e);)(r=r.$parent)&&(i=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,r){n.call(this,e,t,r)}}}},7177:function(e,t,n){\"use strict\";t.__esModule=!0,n(964),t[\"default\"]={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},3751:function(e,t){\"use strict\";t.__esModule=!0,t[\"default\"]=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:300,r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];if(!e||!t)throw new Error(\"instance & callback is required\");var i=!1,o=function(){i||(i=!0,t&&t.apply(null,arguments))};r?e.$once(\"after-leave\",o):e.$on(\"after-leave\",o),setTimeout((function(){o()}),n+100)}},4210:function(e,t,n){\"use strict\";var r=n(3330)(n(9767));t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=undefined;var i=\"function\"==typeof Symbol&&\"symbol\"===(0,r[\"default\"])(Symbol.iterator)?function(e){return(0,r[\"default\"])(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":(0,r[\"default\"])(e)};t.hasClass=g,t.addClass=function(e,t){if(e){for(var n=e.className,r=(t||\"\").split(\" \"),i=0,o=r.length;i=0;i--)if(t[i].id===e){t.splice(i,1);break}}0===t.length&&(this.modalFade&&(0,a.addClass)(n,\"v-modal-leave\"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display=\"none\",f.modalDom=undefined),(0,a.removeClass)(n,\"v-modal-leave\")}),200))}};Object.defineProperty(f,\"zIndex\",{configurable:!0,get:function(){return u||(c=c||(o[\"default\"].prototype.$ELEMENT||{}).zIndex||2e3,u=!0),c},set:function(e){c=e}}),o[\"default\"].prototype.$isServer||window.addEventListener(\"keydown\",(function(e){if(27===e.keyCode){var t=function(){if(!o[\"default\"].prototype.$isServer&&f.modalStack.length>0){var e=f.modalStack[f.modalStack.length-1];if(!e)return;return f.getInstance(e.id)}}();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction(\"cancel\"):t.close())}})),t[\"default\"]=f},8166:function(e,t,n){\"use strict\";t.__esModule=!0,t[\"default\"]=function(){if(o[\"default\"].prototype.$isServer)return 0;if(a!==undefined)return a;var e=document.createElement(\"div\");e.className=\"el-scrollbar__wrap\",e.style.visibility=\"hidden\",e.style.width=\"100px\",e.style.position=\"absolute\",e.style.top=\"-9999px\",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow=\"scroll\";var n=document.createElement(\"div\");n.style.width=\"100%\",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),a=t-r};var r,i=n(1848),o=(r=i)&&r.__esModule?r:{\"default\":r},a=void 0},1636:function(e,t){\"use strict\";t.__esModule=!0,t.isDef=function(e){return e!==undefined&&null!==e},t.isKorean=function(e){return/([(\\uAC00-\\uD7AF)|(\\u3130-\\u318F)])+/gi.test(e)}},7634:function(e,t,n){\"use strict\";var r=n(3330)(n(9767));t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=undefined;var i=\"function\"==typeof Symbol&&\"symbol\"===(0,r[\"default\"])(Symbol.iterator)?function(e){return(0,r[\"default\"])(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":(0,r[\"default\"])(e)};t.isString=function(e){return\"[object String]\"===Object.prototype.toString.call(e)},t.isObject=function(e){return\"[object Object]\"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE};var o,a=n(1848),s=(o=a)&&o.__esModule?o:{\"default\":o},u=function(e){return e&&\"[object Function]\"==={}.toString.call(e)};\"object\"===(\"undefined\"==typeof Int8Array?\"undefined\":i(Int8Array))||!s[\"default\"].prototype.$isServer&&\"function\"==typeof document.childNodes||(t.isFunction=u=function(e){return\"function\"==typeof e||!1}),t.isFunction=u,t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return e!==undefined&&null!==e}},964:function(e,t,n){\"use strict\";var r=n(3330)(n(9767));t.__esModule=!0,t.isMac=t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=undefined;var i=\"function\"==typeof Symbol&&\"symbol\"===(0,r[\"default\"])(Symbol.iterator)?function(e){return(0,r[\"default\"])(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":(0,r[\"default\"])(e)};t.noop=function(){},t.hasOwn=function(e,t){return c.call(e,t)},t.toObject=function(e){for(var t={},n=0;nd.reach&&(d.reach=L.reach)}}}}}}function u(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function l(e,t,n){for(var r=t.next,i=0;i/i,greedy:!0,inside:{\"internal-subset\":{pattern:/(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/\"[^\"]*\"|'[^']*'/,greedy:!0},punctuation:/^$|[[\\]]/,\"doctype-tag\":/^DOCTYPE/i,name:/[^\\s'\"]+/}},cdata:{pattern://i,greedy:!0},tag:{pattern:/\\/=$\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,greedy:!0,inside:{tag:{pattern:/^\\/]+/,inside:{punctuation:/^\\/:]+:/}},\"special-attr\":[],\"attr-value\":{pattern:/=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:\"attr-equals\"},{pattern:/^(\\s*)[\"']|[\"']$/,lookbehind:!0}]}},punctuation:/\\/?>/,\"attr-name\":{pattern:/[^\\s>\\/]+/,inside:{namespace:/^[^\\s>\\/:]+:/}}}},entity:[{pattern:/&[\\da-z]{1,8};/i,alias:\"named-entity\"},/&#x?[\\da-f]{1,8};/i]},r.languages.markup.tag.inside[\"attr-value\"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside[\"internal-subset\"].inside=r.languages.markup,r.hooks.add(\"wrap\",(function(e){\"entity\"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,\"&\"))})),Object.defineProperty(r.languages.markup.tag,\"addInlined\",{value:function(e,t){var n={};n[\"language-\"+t]={pattern:/(^$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^$/i;var i={\"included-cdata\":{pattern://i,inside:n}};i[\"language-\"+t]={pattern:/[\\s\\S]+/,inside:r.languages[t]};var o={};o[e]={pattern:RegExp(/(]*>)(?:))*\\]\\]>|(?!|&&=?|\\|\\|=?|[!=]==|>?=?|[-+*/%&|^!=]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/}),r.languages.javascript[\"class-name\"][0].pattern=/(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/,r.languages.insertBefore(\"javascript\",\"keyword\",{regex:{pattern:RegExp(/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source+/\\//.source+\"(?:\"+/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source+\"|\"+/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+\")\"+/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source),lookbehind:!0,greedy:!0,inside:{\"regex-source\":{pattern:/^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,lookbehind:!0,alias:\"language-regex\",inside:r.languages.regex},\"regex-delimiter\":/^\\/|\\/$/,\"regex-flags\":/^[a-z]+$/}},\"function-variable\":{pattern:/#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,alias:\"function\"},parameter:[{pattern:/(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/}),r.languages.insertBefore(\"javascript\",\"string\",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:\"comment\"},\"template-string\":{pattern:/`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,greedy:!0,inside:{\"template-punctuation\":{pattern:/^`|`$/,alias:\"string\"},interpolation:{pattern:/((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,lookbehind:!0,inside:{\"interpolation-punctuation\":{pattern:/^\\$\\{|\\}$/,alias:\"punctuation\"},rest:r.languages.javascript}},string:/[\\s\\S]+/}},\"string-property\":{pattern:/((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,lookbehind:!0,greedy:!0,alias:\"property\"}}),r.languages.insertBefore(\"javascript\",\"operator\",{\"literal-property\":{pattern:/((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,lookbehind:!0,alias:\"property\"}}),r.languages.markup&&(r.languages.markup.tag.addInlined(\"script\",\"javascript\"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\"javascript\")),r.languages.js=r.languages.javascript,function(){if(void 0!==r&&\"undefined\"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e=function(e,t){return\"âœ– Error \"+e+\" while fetching file: \"+t},t=\"âœ– Error: File does not exist or is empty\",n={js:\"javascript\",py:\"python\",rb:\"ruby\",ps1:\"powershell\",psm1:\"powershell\",sh:\"bash\",bat:\"batch\",h:\"c\",tex:\"latex\"},i=\"data-src-status\",o=\"loading\",a=\"loaded\",s=\"pre[data-src]:not([\"+i+'=\"'+a+'\"]):not(['+i+'=\"'+o+'\"])';r.hooks.add(\"before-highlightall\",(function(e){e.selector+=\", \"+s})),r.hooks.add(\"before-sanity-check\",(function(u){var c=u.element;if(c.matches(s)){u.code=\"\",c.setAttribute(i,o);var l=c.appendChild(document.createElement(\"CODE\"));l.textContent=\"Loadingâ€¦\";var d=c.getAttribute(\"data-src\"),f=u.language;if(\"none\"===f){var p=(/\\.(\\w+)$/.exec(d)||[,\"none\"])[1];f=n[p]||p}r.util.setLanguage(l,f),r.util.setLanguage(c,f);var h=r.plugins.autoloader;h&&h.loadLanguages(f),function(n,r,i){var o=new XMLHttpRequest;o.open(\"GET\",n,!0),o.onreadystatechange=function(){4==o.readyState&&(o.status=400?i(e(o.status,o.statusText)):i(t))},o.send(null)}(d,(function(e){c.setAttribute(i,a);var t=function(e){var t=/^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(e||\"\");if(t){var n=Number(t[1]),r=t[2],i=t[3];return r?i?[n,Number(i)]:[n,undefined]:[n,n]}return undefined}(c.getAttribute(\"data-range\"));if(t){var n=e.split(/\\r\\n?|\\n/g),o=t[0],s=null==t[1]?n.length:t[1];o0?\"\".concat(this.repliesCount):\"\"}},methods:{onLike:function(){this.$emit(\"like\")},onReply:function(){this.$emit(\"reply\")}}};t.Z=u},7404:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var i=r(n(818)),o=r(n(8711)),a=r(n(2290)),s=r(n(2578)),u=r(n(2408)),c=r(n(8245)),l=n(2304),d=r(n(7848)),f={components:{TkAdminComment:s[\"default\"],TkAdminConfig:u[\"default\"],TkAdminImport:c[\"default\"]},props:{show:Boolean},data:function(){return{iconClose:d[\"default\"],loading:!0,version:\"\",needUpdate:!1,isLogin:!1,isSetPassword:!0,isSetCredentials:!1,credentials:\"\",password:\"\",passwordConfirm:\"\",loginErrorMessage:\"\",activeTabName:\"comment\"}},computed:{canRegist:function(){return!this.isSetPassword&&!!this.password&&this.password===this.passwordConfirm&&(this.isSetCredentials||this.credentials)}},methods:{t:l.t,onLogin:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n,r;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.password){t.next=3;break}return e.loginErrorMessage=(0,l.t)(\"ADMIN_PASSWORD_REQUIRED\"),t.abrupt(\"return\");case 3:return e.loading=!0,e.loginErrorMessage=\"\",n=(0,a[\"default\"])(e.password),t.next=8,(0,l.call)(e.$tcb,\"LOGIN\",{password:n});case 8:if(!(r=t.sent).result.message){t.next=13;break}e.loginErrorMessage=r.result.message,t.next=28;break;case 13:if(!r.result.ticket){t.next=27;break}return t.prev=14,t.next=17,e.$tcb.auth.customAuthProvider().signIn(r.result.ticket);case 17:l.logger.log(\"ç™»å½•æˆåŠŸ\"),e.password=\"\",e.checkAuth(),t.next=25;break;case 22:t.prev=22,t.t0=t[\"catch\"](14),l.logger.error(\"ç™»å½•å¤±è´¥\",t.t0);case 25:t.next=28;break;case 27:0===r.result.code&&(l.logger.log(\"ç™»å½•æˆåŠŸ\"),localStorage.setItem(\"twikoo-access-token\",n),e.password=\"\",e.checkAuth());case 28:e.loading=!1;case 29:case\"end\":return t.stop()}}),t,null,[[14,22]])})))()},onLogout:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,!e.$tcb){t.next=8;break}return t.next=4,e.$tcb.auth.signOut();case 4:return t.next=6,e.$tcb.auth.anonymousAuthProvider().signIn();case 6:t.next=9;break;case 8:localStorage.removeItem(\"twikoo-access-token\");case 9:e.isLogin=!1,e.loading=!1;case 11:case\"end\":return t.stop()}}),t)})))()},onRegist:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n,r;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=(0,a[\"default\"])(e.password),t.next=4,(0,l.call)(e.$tcb,\"SET_PASSWORD\",{password:n,credentials:e.credentials});case 4:(r=t.sent).result.code?(e.loginErrorMessage=(0,l.t)(\"ADMIN_REGIST_FAILED\"),r.result.message&&(e.loginErrorMessage+=\"ï¼Œ\"+r.result.message),l.logger.warn(\"Twikoo æ³¨å†Œå¤±è´¥\",r)):(e.passwordMd5=\"\",e.isSetPassword=!0,e.onLogin()),e.loading=!1;case 7:case\"end\":return t.stop()}}),t)})))()},onShow:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.checkAuth();case 3:if(e.isLogin){t.next=7;break}return t.next=6,e.checkIfPasswordSet();case 6:e.focusPassword();case 7:e.loading=!1;case 8:case\"end\":return t.stop()}}),t)})))()},focusPassword:function(){var e=this;setTimeout((function(){e.$refs.focusme&&e.$refs.focusme.focus()}),500)},checkAuth:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n,r;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$tcb){t.next=7;break}return t.next=3,e.$tcb.auth.getCurrenUser();case 3:n=t.sent,e.isLogin=\"CUSTOM\"===n.loginType,t.next=11;break;case 7:return t.next=9,(0,l.call)(e.$tcb,\"GET_CONFIG\");case 9:(r=t.sent)&&r.result&&r.result.config&&(e.isLogin=r.result.config.IS_ADMIN);case 11:case\"end\":return t.stop()}}),t)})))()},checkIfPasswordSet:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.call)(e.$tcb,\"GET_PASSWORD_STATUS\");case 3:n=t.sent,e.version=n.result.version,e.isSetPassword=n.result.status,e.isSetCredentials=!e.$tcb,t.next=14;break;case 9:throw t.prev=9,t.t0=t[\"catch\"](0),e.needUpdate=!0,e.loading=!1,t.t0;case 14:case\"end\":return t.stop()}}),t,null,[[0,9]])})))()},onClose:function(){this.$emit(\"close\")}},watch:{show:function(e){e&&this.onShow()}}};t.Z=f},9454:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var i=r(n(818)),o=r(n(8711)),a=n(7588),s=n(2304),u=n(8521),c=r(n(610)),l=r(n(2948)),d={components:{TkAvatar:c[\"default\"],TkPagination:l[\"default\"]},data:function(){return{loading:!0,comments:[],serverConfig:{},serverVersion:this.$twikoo.serverConfig.VERSION,clientVersion:u.version,count:0,pageSize:5,currentPage:1,filter:{keyword:\"\",type:\"\"}}},methods:{t:s.t,displayCreated:function(e){return(0,s.timeago)(e.created)},convertLink:function(e){return(0,s.convertLink)(e)},getComments:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,(0,s.call)(e.$tcb,\"COMMENT_GET_FOR_ADMIN\",{per:e.pageSize,page:e.currentPage,keyword:e.filter.keyword,type:e.filter.type});case 3:(n=t.sent).result&&!n.result.code&&(e.count=n.result.count,e.comments=n.result.data),e.$nextTick((function(){(0,s.renderLinks)(e.$refs.comments),(0,s.renderMath)(e.$refs[\"comment-list\"],e.$twikoo.katex),e.highlightCode()})),e.loading=!1;case 7:case\"end\":return t.stop()}}),t)})))()},getConfig:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.call)(e.$tcb,\"GET_CONFIG_FOR_ADMIN\");case 2:(n=t.sent).result&&!n.result.code&&(e.serverConfig=n.result.config,e.checkConfig());case 4:case\"end\":return t.stop()}}),t)})))()},checkConfig:function(){var e=this;this.serverConfig.HIGHLIGHT||(this.serverConfig.HIGHLIGHT=\"true\");var t={},n=localStorage.getItem(\"twikoo\");n&&(t=JSON.parse(n)),[\"nick\",\"mail\",\"avatar\"].forEach((function(n){t[n]?e.serverConfig[n]=t[n]:e.serverConfig[n]=\"\"})),!t.nick&&this.serverConfig.BLOGGER_NICK&&(t.nick=this.serverConfig.BLOGGER_NICK),!t.mail&&this.serverConfig.BLOGGER_EMAIL&&(t.mail=this.serverConfig.BLOGGER_EMAIL),!t.link&&this.serverConfig.SITE_URL&&(t.link=this.serverConfig.SITE_URL),localStorage.setItem(\"twikoo\",JSON.stringify(t)),a.app.$emit(\"initMeta\")},onPageSizeChange:function(e){this.pageSize=e,this.getComments()},switchPage:function(e){this.currentPage=e,this.getComments()},handleView:function(e){window.open(\"\".concat(e.url,\"#\").concat(e._id))},handleDelete:function(e){var t=this;return(0,o[\"default\"])(i[\"default\"].mark((function n(){return i[\"default\"].wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm((0,s.t)(\"ADMIN_COMMENT_DELETE_CONFIRM\"))){n.next=2;break}return n.abrupt(\"return\");case 2:return t.loading=!0,n.next=5,(0,s.call)(t.$tcb,\"COMMENT_DELETE_FOR_ADMIN\",{id:e._id});case 5:return n.next=7,t.getComments();case 7:t.loading=!1;case 8:case\"end\":return n.stop()}}),n)})))()},handleSpam:function(e,t){this.setComment(e,{isSpam:t})},handleTop:function(e,t){this.setComment(e,{top:t})},setComment:function(e,t){var n=this;return(0,o[\"default\"])(i[\"default\"].mark((function r(){return i[\"default\"].wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.loading=!0,r.next=3,(0,s.call)(n.$tcb,\"COMMENT_SET_FOR_ADMIN\",{id:e._id,set:t});case 3:return r.next=5,n.getComments();case 5:n.loading=!1;case 6:case\"end\":return r.stop()}}),r)})))()},highlightCode:function(){\"true\"===this.serverConfig.HIGHLIGHT&&(0,s.renderCode)(this.$refs[\"comment-list\"],this.serverConfig.HIGHLIGHT_THEME)}},mounted:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.getConfig(),e.getComments()]);case 2:e.highlightCode();case 3:case\"end\":return t.stop()}}),t)})))()}};t.Z=d},2319:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var i=r(n(818)),o=r(n(8711)),a=n(2304),s=n(8521);function u(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n[\"return\"]||n[\"return\"]()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n0&&this.$refs[\"tk-replies\"]&&(this.hasExpand=this.$refs[\"tk-replies\"].scrollHeight>236)},scrollToComment:function(){-1!==window.location.hash.indexOf(this.comment.id)&&(this.$refs[\"tk-comment\"].scrollIntoView(),this.$emit(\"expand\"))},onLike:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.likeLoading){t.next=2;break}return t.abrupt(\"return\");case 2:return e.likeLoading=!0,t.next=5,(0,a.call)(e.$tcb,\"COMMENT_LIKE\",{id:e.comment.id});case 5:e.liked?e.like--:e.like++,e.liked=!e.liked,e.likeLoading=!1;case 8:case\"end\":return t.stop()}}),t)})))()},onReply:function(){this.$emit(\"reply\",this.comment.id)},onReplyReply:function(e){this.pid=e,this.$emit(\"reply\",this.comment.id)},onCancel:function(){this.pid=\"\",this.$emit(\"reply\",\"\")},onLoad:function(){this.pid=\"\",this.$emit(\"reply\",\"\"),this.$emit(\"load\"),this.onExpand()},onExpand:function(){this.isExpanded=!0},onCollapse:function(){this.isExpanded=!1},checkAuth:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$tcb){t.next=7;break}return t.next=3,e.$tcb.auth.getCurrenUser();case 3:n=t.sent,e.isLogin=\"CUSTOM\"===n.loginType,t.next=8;break;case 7:e.isLogin=e.$twikoo.serverConfig&&e.$twikoo.serverConfig.IS_ADMIN;case 8:case\"end\":return t.stop()}}),t)})))()},handleSpam:function(e){this.setComment({isSpam:e})},handleTop:function(e){this.setComment({top:e})},setComment:function(e){var t=this;return(0,o[\"default\"])(i[\"default\"].mark((function n(){return i[\"default\"].wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,(0,a.call)(t.$tcb,\"COMMENT_SET_FOR_ADMIN\",{id:t.comment.id,set:e});case 3:t.loading=!1,t.$emit(\"load\");case 5:case\"end\":return n.stop()}}),n)})))()}},mounted:function(){var e=this;this.$nextTick(this.showExpandIfNeed),this.$nextTick(this.scrollToComment),this.$nextTick((function(){(0,a.renderLinks)(e.$refs.comment),(0,a.renderMath)(e.$refs.comment,e.$twikoo.katex)})),this.checkAuth()},watch:{\"comment.like\":{handler:function(e){this.like=this.comment.like,this.liked=this.comment.liked},immediate:!0},\"config.HIGHLIGHT\":{handler:function(e){var t=this;\"true\"===e&&this.$nextTick((function(){(0,a.renderCode)(t.$refs.comment,t.config.HIGHLIGHT_THEME)}))},immediate:!0}}};t.Z=x},2650:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var i=r(n(818)),o=r(n(8711)),a=n(2304),s=r(n(8526)),u=r(n(5301)),c=r(n(2561)),l=r(n(6342)),d=r(n(1848)),f={components:{TkSubmit:s[\"default\"],TkComment:u[\"default\"]},props:{showAdminEntry:Boolean},data:function(){return{loading:!0,loadingMore:!1,errorMessage:\"\",config:{},comments:[],showExpand:!0,count:0,replyId:\"\",iconSetting:c[\"default\"],iconRefresh:l[\"default\"]}},methods:{t:a.t,initConfig:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.call)(e.$tcb,\"GET_CONFIG\");case 2:(n=t.sent)&&n.result&&n.result.config&&(e.config=n.result.config,d[\"default\"].prototype.$twikoo.serverConfig=n.result.config);case 4:case\"end\":return t.stop()}}),t)})))()},initComments:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,n=(0,a.getUrl)(e.$twikoo.path),t.next=4,e.getComments({url:n});case 4:e.loading=!1;case 5:case\"end\":return t.stop()}}),t)})))()},refresh:function(){this.comments=[],this.initComments()},onExpand:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n,r;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loadingMore){t.next=2;break}return t.abrupt(\"return\");case 2:return e.loadingMore=!0,n=(0,a.getUrl)(e.$twikoo.path),r=e.comments.filter((function(e){return!e.top})).map((function(e){return e.created})).sort((function(e,t){return e-t}))[0],t.next=7,e.getComments({url:n,before:r});case 7:e.loadingMore=!1;case 8:case\"end\":return t.stop()}}),t)})))()},onCommentLoaded:function(){\"function\"==typeof this.$twikoo.onCommentLoaded&&this.$twikoo.onCommentLoaded()},getComments:function(e){var t=this;return(0,o[\"default\"])(i[\"default\"].mark((function n(){var r;return i[\"default\"].wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,a.call)(t.$tcb,\"COMMENT_GET\",e);case 3:(r=n.sent)&&r.result&&r.result.data&&(t.comments=e.before?t.comments.concat(r.result.data):r.result.data,t.showExpand=r.result.more,t.count=r.result.count||t.comments.length||0,t.$nextTick(t.onCommentLoaded)),n.next=10;break;case 7:n.prev=7,n.t0=n[\"catch\"](0),t.errorMessage=n.t0.message;case 10:case\"end\":return n.stop()}}),n,null,[[0,7]])})))()},onReply:function(e){this.replyId=e},openAdmin:function(){this.$emit(\"admin\")}},mounted:function(){this.initConfig(),this.initComments()}};t.Z=f},4575:function(e,t,n){\"use strict\";var r=n(3330);Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var i=r(n(818)),o=r(n(8711)),a=n(8521),s=n(2304),u={data:function(){return{version:a.version,counter:{}}},methods:{getCounter:function(){var e=this;return(0,o[\"default\"])(i[\"default\"].mark((function t(){var n,r,o;return i[\"default\"].wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById(\"twikoo_visitors\")){t.next=3;break}return t.abrupt(\"return\");case 3:if(-1===[\"localhost\",\"127.0.0.1\",\"0.0.0.0\"].indexOf(window.location.hostname)){t.next=5;break}return t.abrupt(\"return\");case 5:return r=(0,s.getUrl)(e.$twikoo.path),t.next=8,(0,s.call)(e.$tcb,\"COUNTER_GET\",{url:r,href:window.location.href,title:document.title});case 8:o=t.sent,e.counter=o.result,(e.counter.time||0===e.counter.time)&&(n.innerHTML=e.counter.time);case 11:case\"end\":return t.stop()}}),t)})))()}},mounted:function(){this.getCounter()}};t.Z=u},7175:function(e,t,n){\"use strict\";Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var r=n(7588),i=n(2304),o=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a={props:{nick:String,mail:String,link:String,config:Object},data:function(){return{metaInputs:[{key:\"nick\",locale:(0,i.t)(\"META_INPUT_NICK\"),name:\"nick\",type:\"text\"},{key:\"mail\",locale:(0,i.t)(\"META_INPUT_MAIL\"),name:\"mail\",type:\"email\"},{key:\"link\",locale:(0,i.t)(\"META_INPUT_LINK\"),name:\"link\",type:\"text\"}],metaData:{nick:\"\",mail:\"\",link:\"\"}}},computed:{requiredFields:function(){var e=this.config.REQUIRED_FIELDS;return{nick:!e||-1!==e.indexOf(\"nick\"),mail:!e||-1!==e.indexOf(\"mail\"),link:!!e&&-1!==e.indexOf(\"link\")}}},methods:{t:i.t,initMeta:function(){var e=localStorage.getItem(\"twikoo\");if(e){var t=JSON.parse(e);this.metaData.nick=t.nick,this.metaData.mail=t.mail,this.metaData.link=t.link}this.updateMeta()},updateMeta:function(){localStorage.setItem(\"twikoo\",JSON.stringify(this.metaData)),this.$emit(\"update\",{meta:this.metaData,valid:this.checkValid()})},checkValid:function(){var e=o.test(this.metaData.mail);return(this.metaData.nick||!this.requiredFields.nick)&&(e||!this.requiredFields.mail)&&(this.metaData.link||!this.requiredFields.link)},checkQQ:function(){if((0,i.isQQ)(this.metaData.nick)){var e=this.metaData.nick.replace(/@qq.com/gi,\"\"),t=\"\".concat(e,\"@qq.com\");this.metaData.mail=t,this.getQQNick(e)}},getQQNick:function(e){var t=this,n=\"https://tenapi.cn/qqname?qq=\".concat(e),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);t.metaData.nick=e.name,t.updateMeta()}},r.open(\"GET\",n),r.send()},checkAdminCrypt:function(){var e=this.$root.$children[0],t=!this.config.HIDE_ADMIN_CRYPT||this.config.HIDE_ADMIN_CRYPT===this.metaData.nick;e.onShowAdminEntry(t)},onMetaChange:function(){this.checkQQ(),this.updateMeta(),this.checkAdminCrypt()}},watch:{nick:function(e){this.metaData.nick=e},mail:function(e){this.metaData.mail=e},link:function(e){this.metaData.link=e},requiredFields:{handler:function(e,t){this.$emit(\"update\",{meta:this.metaData,valid:this.checkValid()})},deep:!0},\"config.VERSION\":function(){this.checkAdminCrypt()}},mounted:function(){r.app.$on(\"initMeta\",this.initMeta),this.initMeta()}};t.Z=a},2201:function(e,t,n){\"use strict\";Object.defineProperty(t,\"X\",{value:!0}),t.Z=void 0;var r=n(2304),i={props:{pageSize:{type:Number,\"default\":10},total:{type:Number,\"default\":0}},data:function(){return{currentPage:1,userInput:0,userPageSize:0,pagers:[]}},computed:{pageCount:function(){return Math.ceil(this.total/this.pageSize)}},methods:{t:r.t,generatePager:function(){for(var e=[],t=1;t1?t.pop():\"\";if(-1!==h.indexOf(n.toLowerCase())){var r=this.getUserId(),i=\"\".concat(Date.now(),\"-\").concat(r),o=t.join(\".\");this.paste(this.getImagePlaceholder(i,n));var a=this.config.IMAGE_CDN;!this.$tcb||a&&\"qcloud\"!==a?a?this.uploadPhotoToThirdParty(i,o,n,e):this.uploadFailed(i,n,(0,f.t)(\"IMAGE_UPLOAD_FAILED_NO_CONF\")):this.uploadPhotoToQcloud(i,o,n,e)}}},getUserId:function(){return this.$tcb?this.$tcb.auth.currentUser.uid:localStorage.getItem(\"twikoo-access-token\")},uploadPhotoToQcloud:function(e,t,n,r){var a=this;return(0,o[\"default\"])(i[\"default\"].mark((function s(){var o,u,c;return i[\"default\"].wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,a.$tcb.app.uploadFile({cloudPath:\"tk-img/\".concat(e,\".\").concat(n),filePath:r});case 3:if(!(o=i.sent).fileID){i.next=10;break}return i.next=7,a.$tcb.app.getTempFileURL({fileList:[o.fileID]});case 7:u=i.sent,c=u.fileList[0].tempFileURL,a.uploadCompleted(e,t,n,c);case 10:i.next=16;break;case 12:i.prev=12,i.t0=i[\"catch\"](0),console.error(i.t0),a.uploadFailed(e,n,i.t0.message);case 16:case\"end\":return i.stop()}}),s,null,[[0,12]])})))()},uploadPhotoToThirdParty:function(e,t,n,r){var a=this;return(0,o[\"default\"])(i[\"default\"].mark((function s(){var o,u,c;return i[\"default\"].wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.t0=f.call,i.t1=a.$tcb,i.t2=\"\".concat(e,\".\").concat(n),i.next=6,(0,f.blobToDataURL)(r);case 6:return i.t3=i.sent,i.t4={fileName:i.t2,photo:i.t3},i.next=10,(0,i.t0)(i.t1,\"UPLOAD_IMAGE\",i.t4);case 10:u=i.sent,(c=u.result).data?a.uploadCompleted(e,t,n,c.data.url):1040===c.code&&c.err&&(o=c.err.match(/this image exists at: (http[^ ]+)/))?(console.warn(c),a.uploadCompleted(e,t,n,o[1])):(console.error(c),a.uploadFailed(e,n,c.err)),i.next=19;break;case 15:i.prev=15,i.t5=i[\"catch\"](0),console.error(i.t5),a.uploadFailed(e,n,i.t5.message);case 19:case\"end\":return i.stop()}}),s,null,[[0,15]])})))()},uploadCompleted:function(e,t,n,r){this.comment=this.comment.replace(this.getImagePlaceholder(e,n),\"![\".concat(t,\"](\").concat(r,\")\")),this.$refs.inputFile.value=\"\"},uploadFailed:function(e,t,n){this.comment=this.comment.replace(this.getImagePlaceholder(e,t),\"_\".concat((0,f.t)(\"IMAGE_UPLOAD_FAILED\"),\": \").concat(n,\"_\")),this.$refs.inputFile.value=\"\"},paste:function(e){if(document.selection)document.selection.createRange().text=e;else if(this.textarea.selectionStart||0===this.textarea.selectionStart){var t=this.textarea.selectionStart,n=this.textarea.selectionEnd;this.comment=this.comment.substring(0,t)+e+this.comment.substring(n,this.comment.length),this.textarea.selectionStart=t+e.length,this.textarea.selectionEnd=t+e.length}else this.comment+=e},getImagePlaceholder:function(e,t){return\"![\".concat((0,f.t)(\"IMAGE_UPLOAD_PLACEHOLDER\"),\" \").concat(e,\".\").concat(t,\"]()\")}},mounted:function(){this.initDraft(),this.initOwo(),this.addEventListener(),this.onBgImgChange()},watch:{\"config.SHOW_EMOTION\":function(){this.initOwo()},\"config.COMMENT_BG_IMG\":function(){this.onBgImgChange()}}};t.Z=g},2469:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"twikoo\",attrs:{id:\"twikoo\"}},[t(\"tk-comments\",{attrs:{\"show-admin-entry\":e.showAdminEntry},on:{admin:function(t){e.showAdmin=!0}}}),e._v(\" \"),t(\"tk-footer\"),e._v(\" \"),t(\"tk-admin\",{attrs:{show:e.showAdmin},on:{close:function(t){e.showAdmin=!1}}})],1)},t.xk=[]},1979:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-action\"},[t(\"a\",{staticClass:\"tk-action-link\",\"class\":{\"tk-liked\":e.liked},on:{click:e.onLike}},[t(\"span\",{staticClass:\"tk-action-icon\",domProps:{innerHTML:e._s(e.iconLike)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-action-icon tk-action-icon-solid\",domProps:{innerHTML:e._s(e.iconLikeSolid)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-action-count\"},[e._v(e._s(e.likeCountStr))])]),e._v(\" \"),t(\"a\",{staticClass:\"tk-action-link\",on:{click:e.onReply}},[t(\"span\",{staticClass:\"tk-action-icon\",domProps:{innerHTML:e._s(e.iconComment)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-action-icon tk-action-icon-solid\",domProps:{innerHTML:e._s(e.iconCommentSolid)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-action-count\"},[e._v(e._s(e.repliesCountStr))])])])},t.xk=[]},7052:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-admin-container\"},[t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"tk-admin\",\"class\":{__show:e.show}},[t(\"a\",{staticClass:\"tk-admin-close\",domProps:{innerHTML:e._s(e.iconClose)},on:{click:e.onClose}}),e._v(\" \"),e.needUpdate?t(\"div\",{staticClass:\"tk-login-title\"},[t(\"div\",[e._v(e._s(e.t(\"ADMIN_NEED_UPDATE\")))]),e._v(\" \"),t(\"a\",{attrs:{href:\"https://twikoo.js.org/quick-start.html\",target:\"_blank\"}},[e._v(\"https://twikoo.js.org/quick-start.html\")])]):e._e(),e._v(\" \"),e.needUpdate?e._e():t(\"div\",[!e.isLogin&&e.isSetPassword?t(\"div\",{staticClass:\"tk-login\"},[t(\"div\",{staticClass:\"tk-login-title\"},[e._v(e._s(e.t(\"ADMIN_LOGIN_TITLE\")))]),e._v(\" \"),t(\"input\",{attrs:{type:\"hidden\"}}),e._v(\" \"),t(\"el-input\",{ref:\"focusme\",staticClass:\"tk-password\",attrs:{placeholder:e.t(\"ADMIN_PASSWORD_PLACEHOLDER\"),\"show-password\":\"\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.onLogin.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:\"password\"}},[t(\"template\",{slot:\"prepend\"},[e._v(e._s(e.t(\"ADMIN_PASSWORD\")))]),e._v(\" \"),t(\"el-button\",{attrs:{slot:\"append\"},on:{click:e.onLogin},slot:\"append\"},[e._v(e._s(e.t(\"ADMIN_LOGIN\")))])],2),e._v(\" \"),e.loginErrorMessage?t(\"div\",{staticClass:\"tk-login-msg\"},[e._v(\"\\n \"+e._s(e.loginErrorMessage)+\"\\n \"),t(\"a\",{attrs:{href:\"https://twikoo.js.org/faq.html\",rel:\"noopener noreferrer\",target:\"_blank\"}},[e._v(e._s(e.t(\"ADMIN_FORGOT\")))])]):e._e()],1):e._e(),e._v(\" \"),e.isLogin||e.isSetPassword?e._e():t(\"div\",{staticClass:\"tk-regist\"},[t(\"div\",{staticClass:\"tk-login-title\"},[e._v(e._s(e.t(\"ADMIN_LOGIN_TITLE\")))]),e._v(\" \"),e.isSetCredentials?e._e():t(\"el-input\",{ref:\"focusme\",staticClass:\"tk-password\",attrs:{placeholder:e.t(\"ADMIN_CREDENTIALS_PLACEHOLDER\")},model:{value:e.credentials,callback:function(t){e.credentials=t},expression:\"credentials\"}},[t(\"template\",{slot:\"prepend\"},[e._v(e._s(e.t(\"ADMIN_CREDENTIALS\")))])],2),e._v(\" \"),t(\"el-input\",{staticClass:\"tk-password\",attrs:{placeholder:e.t(\"ADMIN_SET_PASSWORD_PLACEHOLDER\"),\"show-password\":\"\"},model:{value:e.password,callback:function(t){e.password=t},expression:\"password\"}},[t(\"template\",{slot:\"prepend\"},[e._v(e._s(e.t(\"ADMIN_SET_PASSWORD\")))])],2),e._v(\" \"),t(\"el-input\",{staticClass:\"tk-password\",attrs:{placeholder:e.t(\"ADMIN_SET_PASSWORD_CONFIRM_PLACEHOLDER\"),\"show-password\":\"\"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:\"passwordConfirm\"}},[t(\"template\",{slot:\"prepend\"},[e._v(e._s(e.t(\"ADMIN_SET_PASSWORD_CONFIRM\")))])],2),e._v(\" \"),t(\"el-button\",{staticClass:\"tk-regist-button\",attrs:{disabled:!e.canRegist},on:{click:e.onRegist}},[e._v(e._s(e.t(\"ADMIN_REGIST\")))]),e._v(\" \"),e.loginErrorMessage?t(\"div\",{staticClass:\"tk-login-msg\"},[e._v(e._s(e.loginErrorMessage))]):e._e(),e._v(\" \"),e.isSetCredentials?e._e():t(\"div\",{staticClass:\"tk-login-msg\"},[t(\"a\",{attrs:{href:\"https://twikoo.js.org/faq.html\",rel:\"noopener noreferrer\",target:\"_blank\"}},[e._v(e._s(e.t(\"ADMIN_CREDENTIALS_FAQ\")))])])],1),e._v(\" \"),e.isLogin?t(\"div\",{staticClass:\"tk-panel\"},[t(\"div\",{staticClass:\"tk-panel-title\"},[t(\"div\",[e._v(e._s(e.t(\"ADMIN_TITLE\")))]),e._v(\" \"),t(\"a\",{staticClass:\"tk-panel-logout\",on:{click:e.onLogout}},[e._v(e._s(e.t(\"ADMIN_LOGOUT\")))])]),e._v(\" \"),t(\"div\",{staticClass:\"tk-tabs\"},[t(\"div\",{staticClass:\"tk-tab\",\"class\":{__active:\"comment\"===e.activeTabName},on:{click:function(t){e.activeTabName=\"comment\"}}},[e._v(e._s(e.t(\"ADMIN_COMMENT\")))]),e._v(\" \"),t(\"div\",{staticClass:\"tk-tab\",\"class\":{__active:\"config\"===e.activeTabName},on:{click:function(t){e.activeTabName=\"config\"}}},[e._v(e._s(e.t(\"ADMIN_CONFIG\")))]),e._v(\" \"),t(\"div\",{staticClass:\"tk-tab\",\"class\":{__active:\"import\"===e.activeTabName},on:{click:function(t){e.activeTabName=\"import\"}}},[e._v(e._s(e.t(\"ADMIN_IMPORT\")))])]),e._v(\" \"),t(\"tk-admin-comment\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"comment\"===e.activeTabName,expression:\"activeTabName === 'comment'\"}]}),e._v(\" \"),t(\"tk-admin-config\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"config\"===e.activeTabName,expression:\"activeTabName === 'config'\"}]}),e._v(\" \"),t(\"tk-admin-import\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"import\"===e.activeTabName,expression:\"activeTabName === 'import'\"}]})],1):e._e()])])])},t.xk=[]},3032:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"tk-admin-comment\"},[e.clientVersion!==e.serverVersion?t(\"div\",{staticClass:\"tk-admin-warn\"},[t(\"span\",[e._v(e._s(e.t(\"ADMIN_CLIENT_VERSION\"))+e._s(e.clientVersion)+\"ï¼Œ\")]),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"ADMIN_SERVER_VERSION\"))+e._s(e.serverVersion)+\"ï¼Œ\")]),e._v(\" \"),e._m(0)]):e._e(),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-comment-filter\"},[t(\"el-input\",{staticClass:\"tk-admin-comment-filter-keyword\",attrs:{size:\"small\",placeholder:e.t(\"ADMIN_COMMENT_SEARCH_PLACEHOLDER\")},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.getComments.apply(null,arguments)}},model:{value:e.filter.keyword,callback:function(t){e.$set(e.filter,\"keyword\",t)},expression:\"filter.keyword\"}}),e._v(\" \"),t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.filter.type,expression:\"filter.type\"}],staticClass:\"tk-admin-comment-filter-type\",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.$set(e.filter,\"type\",t.target.multiple?n:n[0])}}},[t(\"option\",{attrs:{value:\"\"}},[e._v(e._s(e.t(\"ADMIN_COMMENT_FILTER_ALL\")))]),e._v(\" \"),t(\"option\",{attrs:{value:\"VISIBLE\"}},[e._v(e._s(e.t(\"ADMIN_COMMENT_FILTER_VISIBLE\")))]),e._v(\" \"),t(\"option\",{attrs:{value:\"HIDDEN\"}},[e._v(e._s(e.t(\"ADMIN_COMMENT_FILTER_HIDDEN\")))])]),e._v(\" \"),t(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:e.getComments}},[e._v(e._s(e.t(\"ADMIN_COMMENT_SEARCH\")))])],1),e._v(\" \"),t(\"div\",{ref:\"comment-list\",staticClass:\"tk-admin-comment-list\"},e._l(e.comments,(function(n){return t(\"div\",{key:n._id,staticClass:\"tk-admin-comment-item\"},[t(\"div\",{staticClass:\"tk-admin-comment-meta\"},[t(\"tk-avatar\",{attrs:{config:e.serverConfig,avatar:n.avatar,mail:n.mail,link:n.link}}),e._v(\" \"),n.link?e._e():t(\"span\",[e._v(e._s(n.nick)+\" \")]),e._v(\" \"),n.link?t(\"a\",{attrs:{href:e.convertLink(n.link),target:\"_blank\"}},[e._v(e._s(n.nick)+\" \")]):e._e(),e._v(\" \"),n.mail?t(\"span\",[e._v(\"(\"),t(\"a\",{attrs:{href:\"mailto:\".concat(n.mail)}},[e._v(e._s(n.mail))]),e._v(\") \")]):e._e(),e._v(\" \"),n.isSpam?t(\"span\",[e._v(e._s(e.t(\"ADMIN_COMMENT_IS_SPAM_SUFFIX\"))+\" \")]):e._e(),e._v(\" \"),t(\"span\",{staticClass:\"tk-time\"},[e._v(e._s(e.displayCreated(n))+\" \")]),e._v(\" \"),t(\"span\",[e._v(e._s(n.ipRegion))])],1),e._v(\" \"),t(\"div\",{ref:\"comments\",refInFor:!0,staticClass:\"tk-content\",domProps:{innerHTML:e._s(n.comment)}}),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-actions\"},[t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleView(n)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_VIEW\")))]),e._v(\" \"),n.isSpam?t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleSpam(n,!1)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_SHOW\")))]):e._e(),e._v(\" \"),n.isSpam?e._e():t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleSpam(n,!0)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_HIDE\")))]),e._v(\" \"),!n.rid&&n.top?t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleTop(n,!1)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_UNTOP\")))]):e._e(),e._v(\" \"),n.rid||n.top?e._e():t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleTop(n,!0)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_TOP\")))]),e._v(\" \"),t(\"el-button\",{attrs:{size:\"mini\",type:\"text\"},on:{click:function(t){return e.handleDelete(n)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_DELETE\")))])],1)])})),0),e._v(\" \"),t(\"tk-pagination\",{attrs:{\"page-size\":e.pageSize,total:e.count},on:{\"page-size-change\":e.onPageSizeChange,\"current-change\":e.switchPage}})],1)},t.xk=[function(){var e=this,t=e._self._c;return t(\"span\",[e._v(\"è¯·å‚è€ƒ \"),t(\"a\",{attrs:{href:\"https://twikoo.js.org/quick-start.html#%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0\",target:\"_blank\"}},[e._v(\"ç‰ˆæœ¬æ›´æ–°\")]),e._v(\" è¿›è¡Œå‡çº§\")])}]},4027:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"tk-admin-config\"},[e.clientVersion!==e.serverVersion?t(\"div\",{staticClass:\"tk-admin-warn\"},[t(\"span\",[e._v(e._s(e.t(\"ADMIN_CLIENT_VERSION\"))+e._s(e.clientVersion)+\"ï¼Œ\")]),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"ADMIN_SERVER_VERSION\"))+e._s(e.serverVersion)+\"ï¼Œ\")]),e._v(\" \"),e._m(0)]):e._e(),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-groups\"},[e._l(e.settings,(function(n){return t(\"details\",{key:n.name,staticClass:\"tk-admin-config-group\"},[t(\"summary\",{staticClass:\"tk-admin-config-group-title\"},[e._v(e._s(n.name))]),e._v(\" \"),e._l(n.items,(function(n){return t(\"div\",{key:n.key,staticClass:\"tk-admin-config-item\"},[t(\"div\",{staticClass:\"tk-admin-config-title\",attrs:{title:n.key}},[e._v(e._s(n.key))]),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-input\"},[t(\"el-input\",{attrs:{placeholder:n.ph,size:\"small\",\"show-password\":n.secret},model:{value:n.value,callback:function(t){e.$set(n,\"value\",t)},expression:\"setting.value\"}})],1),e._v(\" \"),t(\"div\"),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-desc\"},[e._v(e._s(n.desc))])])}))],2)})),e._v(\" \"),t(\"details\",{staticClass:\"tk-admin-config-group\"},[t(\"summary\",{staticClass:\"tk-admin-config-group-title\"},[e._v(e._s(e.t(\"ADMIN_CONFIG_EMAIL_TEST\")))]),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-email-test\"},[t(\"div\",{staticClass:\"tk-admin-config-email-test-desc\"},[e._v(e._s(e.t(\"ADMIN_CONFIG_EMAIL_TEST_HELP\")))]),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-input\"},[t(\"el-input\",{attrs:{size:\"small\"},model:{value:e.emailTestAddress,callback:function(t){e.emailTestAddress=t},expression:\"emailTestAddress\"}},[t(\"el-button\",{attrs:{slot:\"append\",type:\"info\"},on:{click:e.testEmail},slot:\"append\"},[e._v(e._s(e.t(\"ADMIN_CONFIG_EMAIL_TEST_BTN\")))])],1)],1),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-email-test-desc\"},[e._v(e._s(e.t(\"ADMIN_CONFIG_EMAIL_TEST_RESULT\"))+e._s(e.emailTestResult))])])])],2),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-actions\"},[t(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:e.saveConfig}},[e._v(e._s(e.t(\"ADMIN_CONFIG_SAVE\")))]),e._v(\" \"),t(\"el-button\",{attrs:{size:\"small\",type:\"info\"},on:{click:e.resetConfig}},[e._v(e._s(e.t(\"ADMIN_CONFIG_RESET\")))])],1),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-config-message\"},[e._v(e._s(e.message))])])},t.xk=[function(){var e=this,t=e._self._c;return t(\"span\",[e._v(\"è¯·å‚è€ƒ \"),t(\"a\",{attrs:{href:\"https://twikoo.js.org/quick-start.html#%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0\",target:\"_blank\"}},[e._v(\"ç‰ˆæœ¬æ›´æ–°\")]),e._v(\" è¿›è¡Œå‡çº§\")])}]},8247:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-admin-import\"},[t(\"div\",{staticClass:\"tk-admin-warn tk-admin-import-warn\"},[t(\"p\",[e._v(e._s(e.t(\"ADMIN_IMPORT_WARN\")))]),e._v(\" \"),t(\"p\",[e._v(e._s(e.warnText[e.source]))])]),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-import-label\"},[e._v(e._s(e.t(\"ADMIN_IMPORT_SELECT_SOURCE\")))]),e._v(\" \"),t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.source,expression:\"source\"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.source=t.target.multiple?n:n[0]}}},[t(\"option\",{attrs:{disabled:\"\",value:\"\"}},[e._v(e._s(e.t(\"ADMIN_IMPORT_SELECT\")))]),e._v(\" \"),t(\"option\",{attrs:{value:\"valine\"}},[e._v(\"Valine (JSON)\")]),e._v(\" \"),t(\"option\",{attrs:{value:\"disqus\"}},[e._v(\"Disqus (XML)\")]),e._v(\" \"),t(\"option\",{attrs:{value:\"artalk\"}},[e._v(\"Artalk (JSON)\")]),e._v(\" \"),t(\"option\",{attrs:{value:\"twikoo\"}},[e._v(\"Twikoo (JSON)\")])]),e._v(\" \"),t(\"div\",{staticClass:\"tk-admin-import-label\"},[e._v(e._s(e.t(\"ADMIN_IMPORT_SELECT_FILE\")))]),e._v(\" \"),t(\"input\",{ref:\"inputFile\",attrs:{type:\"file\",value:\"\"}}),e._v(\" \"),t(\"el-button\",{attrs:{size:\"small\",disabled:e.loading},on:{click:e.uploadFile}},[e._v(e._s(e.t(\"ADMIN_IMPORT_START\")))]),e._v(\" \"),t(\"el-input\",{ref:\"logTextArea\",attrs:{type:\"textarea\",rows:10,placeholder:e.t(\"ADMIN_IMPORT_LOG\"),readonly:\"\"},model:{value:e.logText,callback:function(t){e.logText=t},expression:\"logText\"}})],1)},t.xk=[]},7417:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-avatar\",\"class\":{\"tk-clickable\":!!e.link,\"tk-has-avatar\":!!e.avatarInner},on:{click:e.onClick}},[e.avatarInner?e._e():t(\"div\",{staticClass:\"tk-avatar-img\",domProps:{innerHTML:e._s(e.iconUser)}}),e._v(\" \"),e.avatarInner?t(\"img\",{staticClass:\"tk-avatar-img\",attrs:{src:e.avatarInner,alt:\"\"}}):e._e()])},t.xk=[]},4428:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{ref:\"tk-comment\",staticClass:\"tk-comment\",\"class\":{\"tk-master\":e.comment.master},attrs:{id:e.comment.id}},[t(\"tk-avatar\",{attrs:{config:e.config,nick:e.comment.nick,avatar:e.comment.avatar,\"mail-md5\":e.comment.mailMd5,link:e.convertedLink}}),e._v(\" \"),t(\"div\",{staticClass:\"tk-main\"},[t(\"div\",{staticClass:\"tk-row\"},[t(\"div\",{staticClass:\"tk-meta\"},[e.convertedLink?e._e():t(\"strong\",{staticClass:\"tk-nick\"},[e._v(e._s(e.comment.nick))]),e._v(\" \"),e.convertedLink?t(\"a\",{staticClass:\"tk-nick tk-nick-link\",attrs:{href:e.convertedLink,target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"strong\",[e._v(e._s(e.comment.nick))])]):e._e(),e._v(\" \"),e.comment.master?t(\"span\",{staticClass:\"tk-tag tk-tag-green\"},[e._v(e._s(e.config.MASTER_TAG||e.t(\"COMMENT_MASTER_TAG\")))]):e._e(),e._v(\" \"),e.comment.top?t(\"span\",{staticClass:\"tk-tag tk-tag-red\"},[e._v(e._s(e.t(\"COMMENT_TOP_TAG\")))]):e._e(),e._v(\" \"),e.comment.isSpam?t(\"span\",{staticClass:\"tk-tag tk-tag-yellow\"},[e._v(e._s(e.t(\"COMMENT_REVIEWING_TAG\")))]):e._e(),e._v(\" \"),t(\"small\",{staticClass:\"tk-time\"},[t(\"time\",{attrs:{datetime:e.jsonTimestamp,title:e.localeTime}},[e._v(e._s(e.displayCreated))])]),e._v(\" \"),e.isLogin?t(\"small\",{staticClass:\"tk-actions\"},[e.comment.isSpam?t(\"a\",{on:{click:function(t){return e.handleSpam(!1)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_SHOW\")))]):e._e(),e._v(\" \"),e.comment.isSpam?e._e():t(\"a\",{on:{click:function(t){return e.handleSpam(!0)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_HIDE\")))]),e._v(\" \"),!e.comment.rid&&e.comment.top?t(\"a\",{on:{click:function(t){return e.handleTop(!1)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_UNTOP\")))]):e._e(),e._v(\" \"),e.comment.rid||e.comment.top?e._e():t(\"a\",{on:{click:function(t){return e.handleTop(!0)}}},[e._v(e._s(e.t(\"ADMIN_COMMENT_TOP\")))])]):e._e()]),e._v(\" \"),t(\"tk-action\",{attrs:{liked:e.liked,\"like-count\":e.like,\"replies-count\":e.comment.replies.length},on:{like:e.onLike,reply:e.onReply}})],1),e._v(\" \"),t(\"div\",{staticClass:\"tk-content\"},[e.comment.pid?t(\"span\",[e._v(e._s(e.t(\"COMMENT_REPLIED\"))+\" \"),t(\"a\",{staticClass:\"tk-ruser\",attrs:{href:\"#\".concat(e.comment.pid)}},[e._v(\"@\"+e._s(e.comment.ruser))]),e._v(\" :\")]):e._e(),e._v(\" \"),t(\"span\",{ref:\"comment\",domProps:{innerHTML:e._s(e.comment.comment)}})]),e._v(\" \"),e.comment.ipRegion||e.comment.os||e.comment.browser?t(\"div\",{staticClass:\"tk-extras\"},[e.comment.ipRegion?t(\"div\",{staticClass:\"tk-extra\"},[t(\"span\",{staticClass:\"tk-icon __comment\",domProps:{innerHTML:e._s(e.iconLocation)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-extra-text\"},[e._v(\" \"+e._s(e.comment.ipRegion))])]):e._e(),e._v(\" \"),e.comment.os?t(\"div\",{staticClass:\"tk-extra\"},[t(\"span\",{staticClass:\"tk-icon __comment\",domProps:{innerHTML:e._s(e.iconOs)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-extra-text\"},[e._v(\" \"+e._s(e.comment.os))])]):e._e(),e._v(\" \"),e.comment.browser?t(\"div\",{staticClass:\"tk-extra\"},[t(\"span\",{staticClass:\"tk-icon __comment\",domProps:{innerHTML:e._s(e.iconBrowser)}}),e._v(\" \"),t(\"span\",{staticClass:\"tk-extra-text\"},[e._v(\" \"+e._s(e.comment.browser))])]):e._e()]):e._e(),e._v(\" \"),t(\"div\",{ref:\"tk-replies\",staticClass:\"tk-replies\",\"class\":{\"tk-replies-expand\":e.isExpanded||!e.showExpand}},e._l(e.comment.replies,(function(n){return t(\"tk-comment\",{key:n.id,attrs:{comment:n,config:e.config},on:{expand:e.onExpand,load:e.onLoad,reply:e.onReplyReply}})})),1),e._v(\" \"),e.replying?t(\"tk-submit\",{attrs:{\"reply-id\":e.comment.id,pid:e.pid,config:e.config},on:{load:e.onLoad,cancel:e.onCancel}}):e._e(),e._v(\" \"),e.showExpand?t(\"div\",{staticClass:\"tk-expand\",on:{click:e.onExpand}},[e._v(e._s(e.t(\"COMMENT_EXPAND\")))]):e._e(),e._v(\" \"),e.showCollapse?t(\"div\",{staticClass:\"tk-expand _collapse\",on:{click:e.onCollapse}},[e._v(e._s(e.t(\"COMMENT_COLLAPSE\")))]):e._e()],1)],1)},t.xk=[]},4489:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-comments\"},[t(\"tk-submit\",{attrs:{config:e.config},on:{load:e.initComments}}),e._v(\" \"),t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],staticClass:\"tk-comments-container\"},[t(\"div\",{staticClass:\"tk-comments-title\"},[t(\"span\",{staticClass:\"tk-comments-count\",\"class\":{__hidden:!e.comments.length}},[t(\"span\",[e._v(e._s(e.count))]),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"COMMENTS_COUNT_SUFFIX\")))])]),e._v(\" \"),t(\"span\",[e.loading||e.loadingMore?e._e():t(\"span\",{staticClass:\"tk-icon __comments\",domProps:{innerHTML:e._s(e.iconRefresh)},on:{click:e.refresh}}),e.showAdminEntry?t(\"span\",{staticClass:\"tk-icon __comments\",domProps:{innerHTML:e._s(e.iconSetting)},on:{click:e.openAdmin}}):e._e()])]),e._v(\" \"),e.loading||e.comments.length?e._e():t(\"div\",{staticClass:\"tk-comments-no\"},[e.errorMessage?e._e():t(\"span\",[e._v(e._s(e.t(\"COMMENTS_NO_COMMENTS\")))]),e._v(\" \"),e.errorMessage?t(\"span\",{staticClass:\"tk-comments-error\"},[e._v(e._s(e.errorMessage))]):e._e()]),e._v(\" \"),e._l(e.comments,(function(n){return t(\"tk-comment\",{key:n.id,attrs:{comment:n,replying:e.replyId===n.id,config:e.config},on:{reply:e.onReply,load:e.initComments}})})),e._v(\" \"),e.showExpand&&!e.loading?t(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loadingMore,expression:\"loadingMore\"}],staticClass:\"tk-expand\",on:{click:e.onExpand}},[e._v(e._s(e.t(\"COMMENTS_EXPAND\")))]):e._e()],2)],1)},t.xk=[]},5187:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-footer\"},[e._v(\"\\n Powered by \"),t(\"a\",{attrs:{href:\"https://twikoo.js.org\",target:\"_blank\"}},[e._v(\"Twikoo\")]),e._v(\"\\n v\"+e._s(e.version)+\"\\n\")])},t.xk=[]},9210:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-meta-input\"},e._l(e.metaInputs,(function(n){return t(\"el-input\",{key:n.key,attrs:{name:n.name,type:n.type,placeholder:e.requiredFields[n.key]?e.t(\"META_INPUT_REQUIRED\"):e.t(\"META_INPUT_NOT_REQUIRED\"),size:\"small\"},on:{change:e.onMetaChange},model:{value:e.metaData[n.key],callback:function(t){e.$set(e.metaData,n.key,t)},expression:\"metaData[metaInput.key]\"}},[t(\"template\",{slot:\"prepend\"},[e._v(e._s(n.locale))])],2)})),1)},t.xk=[]},1105:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-pagination\"},[e.pageCount?t(\"div\",{staticClass:\"tk-pagination-options\"},[t(\"div\",[t(\"span\",[e._v(e._s(e.t(\"PAGINATION_COUNT_PREFIX\")))]),e._v(\" \"),t(\"span\",[e._v(e._s(e.total))]),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"PAGINATION_COUNT_SUFFIX\")))])]),e._v(\" \"),t(\"el-input\",{attrs:{type:\"number\",min:\"1\",max:\"100\",value:e.userPageSize?e.userPageSize:e.pageSize},on:{input:e.handleInputPageSize,change:e.pageSizeChamge}}),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"PAGINATION_PAGESIZE\")))])],1):e._e(),e._v(\" \"),t(\"div\",{staticClass:\"tk-pagination-pagers\"},e._l(e.pagers,(function(n){return t(\"div\",{key:n.page,staticClass:\"tk-pagination-pager\",\"class\":{__current:n.page===e.currentPage},on:{click:function(t){return e.currentChange(n.page)}}},[e._v(e._s(n.title))])})),0),e._v(\" \"),e.pageCount?t(\"div\",{staticClass:\"tk-pagination-options\"},[t(\"span\",[e._v(e._s(e.t(\"PAGINATION_GOTO_PREFIX\")))]),e._v(\" \"),t(\"el-input\",{attrs:{type:\"number\",min:\"1\",max:e.pageCount,value:e.userInput?e.userInput:e.currentPage},on:{input:e.handleInput,change:e.currentChange}}),e._v(\" \"),t(\"span\",[e._v(e._s(e.t(\"PAGINATION_GOTO_SUFFIX\")))])],1):e._e()])},t.xk=[]},8407:function(e,t){\"use strict\";t.xk=t.sY=void 0,t.sY=function(){var e=this,t=e._self._c;return t(\"div\",{staticClass:\"tk-submit\"},[t(\"div\",{staticClass:\"tk-row\"},[t(\"tk-avatar\",{attrs:{config:e.config,mail:e.mail}}),e._v(\" \"),t(\"div\",{staticClass:\"tk-col\"},[t(\"tk-meta-input\",{attrs:{nick:e.nick,mail:e.mail,link:e.link,config:e.config},on:{update:e.onMetaUpdate}}),e._v(\" \"),t(\"el-input\",{ref:\"textarea\",staticClass:\"tk-input\",attrs:{type:\"textarea\",\"show-word-limit\":\"\",placeholder:e.commentPlaceholder,autosize:{minRows:3},maxlength:e.maxLength},on:{input:e.onCommentInput},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.onEnterKeyUp(t)}},model:{value:e.comment,callback:function(t){e.comment=t},expression:\"comment\"}})],1)],1),e._v(\" \"),t(\"div\",{staticClass:\"tk-row actions\"},[t(\"div\",{staticClass:\"tk-row-actions-start\"},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"true\"===e.config.SHOW_EMOTION,expression:\"config.SHOW_EMOTION === 'true'\"},{name:\"clickoutside\",rawName:\"v-clickoutside\",value:e.closeOwo,expression:\"closeOwo\"}],ref:\"owo\",staticClass:\"tk-submit-action-icon OwO\",domProps:{innerHTML:e._s(e.iconEmotion)}}),e._v(\" \"),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"true\"===e.config.SHOW_IMAGE,expression:\"config.SHOW_IMAGE === 'true'\"}],staticClass:\"tk-submit-action-icon\",domProps:{innerHTML:e._s(e.iconImage)},on:{click:e.openSelectImage}}),e._v(\" \"),t(\"input\",{ref:\"inputFile\",staticClass:\"tk-input-image\",attrs:{type:\"file\",accept:\"image/*\",value:\"\"},on:{change:e.onSelectImage}}),e._v(\" \"),t(\"div\",{staticClass:\"tk-error-message\"},[e._v(e._s(e.errorMessage))])]),e._v(\" \"),t(\"a\",{staticClass:\"tk-submit-action-icon __markdown\",attrs:{alt:\"Markdown is supported\",href:\"https://guides.github.com/features/mastering-markdown/\",target:\"_blank\",rel:\"noopener noreferrer\"},domProps:{innerHTML:e._s(e.iconMarkdown)}}),e._v(\" \"),e.replyId?t(\"el-button\",{staticClass:\"tk-cancel\",attrs:{size:\"small\"},on:{click:e.cancel}},[e._v(e._s(e.t(\"SUBMIT_CANCEL\")))]):e._e(),e._v(\" \"),t(\"el-button\",{staticClass:\"tk-preview\",attrs:{size:\"small\"},on:{click:e.preview}},[e._v(e._s(e.t(\"SUBMIT_PREVIEW\")))]),e._v(\" \"),t(\"el-button\",{staticClass:\"tk-send\",attrs:{type:\"primary\",size:\"small\",disabled:!e.canSend},on:{click:e.send}},[e._v(e._s(e.isSending?e.t(\"SUBMIT_SENDING\"):e.t(\"SUBMIT_SEND\")))])],1),e._v(\" \"),e.isPreviewing?t(\"div\",{ref:\"comment-preview\",staticClass:\"tk-preview-container\",domProps:{innerHTML:e._s(e.commentHtml)}}):e._e()])},t.xk=[]},8666:function(e,t){\"use strict\";t.Z=function(e,t){for(var n=[],r={},i=0;i=0&&Math.floor(t)===t&&isFinite(e)}function _(e){return l(e)&&\"function\"==typeof e.then&&\"function\"==typeof e[\"catch\"]}function y(e){return null==e?\"\":Array.isArray(e)||m(e)&&e.toString===g?JSON.stringify(e,null,2):String(e)}function b(e){var t=parseFloat(e);return isNaN(t)?e:t}function k(e,t){for(var n=Object.create(null),r=e.split(\",\"),i=0;i-1)return e.splice(r,1)}}var x=Object.prototype.hasOwnProperty;function A(e,t){return x.call(e,t)}function C(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var D=/-(\\w)/g,I=C((function(e){return e.replace(D,(function(e,t){return t?t.toUpperCase():\"\"}))})),O=C((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),S=/\\B([A-Z])/g,T=C((function(e){return e.replace(S,\"-$1\").toLowerCase()})),M=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function N(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function F(e,t){for(var n in t)e[n]=t[n];return e}function P(e){for(var t={},n=0;n0;X&&X.indexOf(\"android\");var te=X&&/iphone|ipad|ipod|ios/.test(X);X&&/chrome\\/\\d+/.test(X),X&&/phantomjs/.test(X);var ne,re=X&&X.match(/firefox\\/(\\d+)/),ie={}.watch,oe=!1;if(Y)try{var ae={};Object.defineProperty(ae,\"passive\",{get:function(){oe=!0}}),window.addEventListener(\"test-passive\",null,ae)}catch(s){}var se=function(){return void 0===ne&&(ne=!Y&&\"undefined\"!=typeof n.g&&n.g.process&&\"server\"===n.g.process.env.VUE_ENV),ne},ue=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ce(e){return\"function\"==typeof e&&/native code/.test(e.toString())}var le,de=\"undefined\"!=typeof Symbol&&ce(Symbol)&&\"undefined\"!=typeof Reflect&&ce(Reflect.ownKeys);le=\"undefined\"!=typeof Set&&ce(Set)?Set:function(){function e(){(0,i[\"default\"])(this,e),this.set=Object.create(null)}return(0,o[\"default\"])(e,[{key:\"has\",value:function(e){return!0===this.set[e]}},{key:\"add\",value:function(e){this.set[e]=!0}},{key:\"clear\",value:function(){this.set=Object.create(null)}}]),e}();var fe=null;function pe(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;e||fe&&fe._scope.off(),fe=e,e&&e._scope.on()}var he=function(){function e(t,n,r,o,a,s,u,c){(0,i[\"default\"])(this,e),this.tag=t,this.data=n,this.children=r,this.text=o,this.elm=a,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=u,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return(0,o[\"default\"])(e,[{key:\"child\",get:function(){return this.componentInstance}}]),e}(),ge=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\",t=new he;return t.text=e,t.isComment=!0,t};function me(e){return new he(void 0,void 0,void 0,String(e))}function ve(e){var t=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var _e=0,ye=[],be=function(){function e(){(0,i[\"default\"])(this,e),this._pending=!1,this.id=_e++,this.subs=[]}return(0,o[\"default\"])(e,[{key:\"addSub\",value:function(e){this.subs.push(e)}},{key:\"removeSub\",value:function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ye.push(this))}},{key:\"depend\",value:function(t){e.target&&e.target.addDep(this)}},{key:\"notify\",value:function(e){for(var t=this.subs.filter((function(e){return e})),n=0,r=t.length;n2&&arguments[2]!==undefined&&arguments[2];if((0,i[\"default\"])(this,e),this.value=t,this.shallow=n,this.mock=r,this.dep=r?Se:new be,this.vmCount=0,W(t,\"__ob__\",this),u(t)){if(!r)if(Z)t.__proto__=Ae;else for(var o=0,a=Ce.length;o","link":"/xing/js/twikoo.min.js"}]}